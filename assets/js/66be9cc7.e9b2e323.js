"use strict";(self.webpackChunkhtg=self.webpackChunkhtg||[]).push([[7982],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),p=u(n),m=i,h=p["".concat(s,".").concat(m)]||p[m]||c[m]||r;return n?a.createElement(h,l(l({ref:t},d),{},{components:n})):a.createElement(h,l({ref:t},d))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[p]="string"==typeof e?e:i,l[1]=o;for(var u=2;u<r;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},73534:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>u});var a=n(87462),i=(n(67294),n(3905));const r={},l="Configuring German Fiscal",o={unversionedId:"Fiscal/htg_german",id:"Fiscal/htg_german",title:"Configuring German Fiscal",description:"Fiscalisation is a legal requirement imposed by the Tax Authorities (TA)",source:"@site/docs/08- Fiscal/htg_german.md",sourceDirName:"08- Fiscal",slug:"/Fiscal/htg_german",permalink:"/docs/Fiscal/htg_german",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/08- Fiscal/htg_german.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Configuring Vouchers",permalink:"/docs/Promotions, Loyalty and Vouchers/htg_vouchers"},next:{title:"Kitchen Printers",permalink:"/docs/Hospitality/htg_hosp_kprint"}},s={},u=[{value:"Device Based",id:"device-based .unnumbered",level:2},{value:"Service Based",id:"service-based .unnumbered",level:2},{value:"Signature Based",id:"signature-based .unnumbered",level:2},{value:"Other Requirements",id:"other-requirements .unnumbered",level:2},{value:"Notes",id:"notes .unnumbered",level:2},{value:"POS Terminal Template",id:"pos-terminal-template .unnumbered",level:2},{value:"Location",id:"location .unnumbered",level:2},{value:"Tax Groups",id:"tax-groups .unnumbered",level:2},{value:"Tax Scheme",id:"tax-scheme .unnumbered",level:2},{value:"Tax Rates",id:"tax-rates .unnumbered",level:2},{value:"Tax Group Tax Methods",id:"tax-group-tax-methods .unnumbered",level:2},{value:"Account Credentials",id:"account-credentials .unnumbered",level:2},{value:"Process Connection",id:"process-connection .unnumbered",level:2},{value:"Privileges",id:"privileges .unnumbered",level:2},{value:"Menus",id:"menus .unnumbered",level:2},{value:"Click the Login as <strong>Admin</strong> button on the fiscalisation menu.",id:"click-the-login-as-admin-button-on-the-fiscalisation-menu",level:3},{value:"Click the Register <strong>POS</strong> button on the fiscalisation menu.",id:"click-the-register-pos-button-on-the-fiscalisation-menu",level:3},{value:"Click the Login as <strong>Time</strong> Admin button on the fiscalisation menu.",id:"click-the-login-as-time-admin-button-on-the-fiscalisation-menu",level:3},{value:"Click the Update <strong>Time button</strong> on the fiscalisation menu.",id:"click-the-update-time-button-on-the-fiscalisation-menu",level:3}],d={toc:u},p="wrapper";function c(e){let{components:t,...r}=e;return(0,i.kt)(p,(0,a.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"configuring-german-fiscal"},"Configuring German Fiscal"),(0,i.kt)("h1",{id:"overview"},"Overview"),(0,i.kt)("p",null,"Fiscalisation is a legal requirement imposed by the Tax Authorities (TA)\nof an increasing number of countries, but particularly prevalent in the\nEuropean Union. The common reason, between countries, for fiscal\nlegislation is to record sales in such a way that an inalterable record\nof each transaction and the VAT due is available to the TA."),(0,i.kt)("p",null,"Enactor have fiscal solutions available for the majority of European\nFiscal countries and continue to work on additional country solutions\nboth inside and outside Europe. Enactor found that a common complaint\nfrom retailers was, POS providers and Fiscal Software Solutions\nproviders blaming each other when things went wrong. Enactor's approach\nto fiscal is to avoid reliance on third parties wherever possible. This\nallows Enactor to provide solutions that do not have hidden third party\nsoftware costs and also give customers a single point of contact."),(0,i.kt)("p",null,"Whilst Enactor have avoided relying on software partners to provide\npre-packed solutions, we recognise the importance of in country experts.\nWe have therefore built a network of partners that both help us\ninitially understand legislation and technical requirements for each\ncountry but are also kept on retainer to inform us of any legislation\nchanges and guide us through their implementation. This allows us to\nkeep our solutions up to date and compliant in what is often a\nfast-changing area in terms of legislation."),(0,i.kt)("p",null,"While the reasons for Fiscal legislation are common between countries,\nunfortunately the approach taken differs from one to the next, although\nthere are a number of common patterns outlined below:"),(0,i.kt)("h2",{id:"device-based .unnumbered"},"Device Based"),(0,i.kt)("p",null,"When each transaction is finalised, it is also sent to physical device\nwhich records the transaction in an inalterable way. In some countries,\nthe device also functions as a printer; in others it is USB or network\nconnected device."),(0,i.kt)("p",null,"Devices contain a fiscal module which will both sign and record each\ntransaction in a write once read many, fiscal memory. The signature\nproduced by the device is usually printed on the receipt so that the\ncustomer, or a TA inspector, can see the transaction has been recorded\nproperly. Devices will also have some mechanism to provide the data held\nto the TA, commonly one of:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Extract in a defined format, tiggered by the POS")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Internal GPRS connections")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Device requires an ethernet internet connection")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Memory Card that can be given to the TA on request"))),(0,i.kt)("p",null,"These Fiscal Devices are certified by the TA and this usually, although\nnot always, means that the POS solution does not need certification."),(0,i.kt)("h2",{id:"section .unnumbered"},""),(0,i.kt)("h2",{id:"service-based .unnumbered"},"Service Based"),(0,i.kt)("p",null,"Transactions are sent to an online service provided by the TA which will\nrecord the transaction detail and provide a signature back as part of\nthe response. This signature is usually required to be printed on the\nreceipt, in some countries in the form of a QR code. Some TA's offer a\nlottery where retail customers can scan the QR code to be entered in a\nregular lottery, thus encouraging reporting of retailers who are not\ncompliant."),(0,i.kt)("p",null,"Each country has its own provisions for how to deal with a loss of\nconnection to the service, but it is usual to permit offline sales\nwhich, must either be manually recorded or electronically submitted to\nthe TA within a defined timeframe."),(0,i.kt)("h2",{id:"signature-based .unnumbered"},"Signature Based"),(0,i.kt)("p",null,"In this type of scheme, it becomes the responsibility of the POS to\nrecord the transactions in an inalterable way and provide a record of\nthe transactions to the TA. The usual approach is to sign and record\neach transaction, including the signature of the previous transaction as\npart of the singed data. This has the effect of producing a chain of\nsinged transactions where a transaction modified at a later date would\nbe detectable, as either the altered transaction or all subsequent\ntransactions would have incorrect signatures."),(0,i.kt)("p",null,"The second requirement of this type of solution is for the POS solution\nto be able to provide the transaction data, including signatures, to the\nTA. This data is usually provided in an XML file often in the common\nSAF-T format."),(0,i.kt)("p",null,"Again, it's common for the signature, or part of it, to be printed on\nthe customer receipt."),(0,i.kt)("p",null,"Clearly this type of solution requires the TA to have a certain level of\ntrust in the POS provider that they will, properly protect the private\nkey used to sign the transactions and that they will not provide the\nretailer with a mechanism to alter transactions. It is therefore common\nfor these types of solution to require either a declaration of\nconformity or formal certification process."),(0,i.kt)("h2",{id:"other-requirements .unnumbered"},"Other Requirements"),(0,i.kt)("p",null,"As well as the above each country has a number of other fiscal\nrequirements that must be adhered to, some of which are common between\ncountries, for example:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Sales and Returns are not permitted in the same transaction")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Transaction value must be positive")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Ability to produce X and Z reports in a proscribed manner")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Items may not be discounted to zero or negative values")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Particular handling of deposit and balance transactions")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Requirement to produce invoices for transactions that meet\nparticular criteria, over a set value, B2B")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Particular handling of tax for bottle returns"))),(0,i.kt)("h1",{id:"german-introduction .unnumbered"},"German Introduction"),(0,i.kt)("p",null,"The fiscal approach in Germany is based around the use of TSE devices.\nThese devices can either be USB, printer or service based but in essence\nall perform the same function which is to sign and store each\ntransaction in an inalterable state. Receipts for transaction must be\noffered to customers but the format of the receipt is not mandated,\nalthough there are some mandatory fields that must be included, one of\nwhich is the signature produced by the TSE."),(0,i.kt)("p",null,"In event of a TSE being broken or offline it is possible for the POS to\ncontinue trading. Receipts must show that the POS is offline, and the\ntransactions must be fiscalised once the TSE is back online. However,\ngiven that our customers tend to run multiple POS in a store Enactor\nrecommend that an alternate POS is used where possible until the TSE can\nbe brought back online, to avoid this complication."),(0,i.kt)("p",null,"Certification of the POS software is not required; only the TSE device\nitself requires certification."),(0,i.kt)("h2",{id:"notes .unnumbered"},"Notes"),(0,i.kt)("p",null,"Currently the Enactor solution supports Epson USB TSE devices. However,\nthe interface for the TSE is specified by the authorities and therefore\ncommon so Enactor do not foresee huge complexity in adding new devices\nor types of devices."),(0,i.kt)("h1",{id:"configuration-overview .unnumbered"},"Configuration Overview"),(0,i.kt)("p",null,"The following configuration changes are required and should be broadcast\nto all German devices in preparation for go live."),(0,i.kt)("h2",{id:"pos-terminal-template .unnumbered"},"POS Terminal Template"),(0,i.kt)("p",null,"The POS Terminal Template used by all devices in Germanymust be\nconfigured to have the fiscalisation Type set to Germany. Currency\nshould be set to Euros and Locale to German."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Graphical user interface, application Description automatically generated",src:n(77632).Z,width:"1207",height:"663"})),(0,i.kt)("p",null,"The primary Receipt should be set to Fiscal Standard Receipt XX Col and\nno sale receipt should be set to Fiscal No Sale 4XX Col where XX is the\ncorrect printer column width."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Graphical user interface, text, application, email Description automatically generated",src:n(76979).Z,width:"1205",height:"658"})),(0,i.kt)("p",null,"The 'Print Tax Details on Receipt' flag withing the printing ",">"," flags\ntab should be ticked."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Graphical user interface, text, application, email Description automatically generated",src:n(86253).Z,width:"1920",height:"969"})),(0,i.kt)("p",null,"Within the Tax section the Tax region should be set to Germany and the\ntax scheme to to the German tax scheme configured in the following\nsection."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Graphical user interface, application Description automatically generated",src:n(53248).Z,width:"1206",height:"643"})),(0,i.kt)("h2",{id:"location .unnumbered"},"Location"),(0,i.kt)("p",null,"Each location in Germany should have its Fiscal Location Reference\nconfigured within the EM and broadcast to the appropriate German\ndevices."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Graphical user interface, text, application, email Description automatically generated",src:n(58788).Z,width:"1205",height:"662"})),(0,i.kt)("h2",{id:"section-1 .unnumbered"},""),(0,i.kt)("h2",{id:"tax-groups .unnumbered"},"Tax Groups"),(0,i.kt)("p",null,"The following tax groups should be configured and broadcast to the\nappropriate German devices."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Tax Group ID"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"DE1"),(0,i.kt)("td",{parentName:"tr",align:null},"DE Tax Group A")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"DE2"),(0,i.kt)("td",{parentName:"tr",align:null},"DE Tax Group B")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"DE3"),(0,i.kt)("td",{parentName:"tr",align:null},"DE Tax Group C")))),(0,i.kt)("h2",{id:"section-2 .unnumbered"},""),(0,i.kt)("h2",{id:"tax-scheme .unnumbered"},"Tax Scheme"),(0,i.kt)("p",null,"The following tax scheme should be configured and broadcast to the\nappropriate German devices."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Tax Scheme ID"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Price Include Tax"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"DE"),(0,i.kt)("td",{parentName:"tr",align:null},"DE VAT"),(0,i.kt)("td",{parentName:"tr",align:null},"TRUE")))),(0,i.kt)("h2",{id:"tax-rates .unnumbered"},"Tax Rates"),(0,i.kt)("p",null,"The following tax rates should be configured and broadcast to the\nappropriate German devices."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Tax Rate ID"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Display Code"),(0,i.kt)("th",{parentName:"tr",align:null},"Percentage"),(0,i.kt)("th",{parentName:"tr",align:null},"Fiscal Tax Rate Reference"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"DE_R1"),(0,i.kt)("td",{parentName:"tr",align:null},"DE Standard 19%"),(0,i.kt)("td",{parentName:"tr",align:null},"DE Standard 19%"),(0,i.kt)("td",{parentName:"tr",align:null},"19%"),(0,i.kt)("td",{parentName:"tr",align:null},"1")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"DE_R2"),(0,i.kt)("td",{parentName:"tr",align:null},"DE Reduced 7%"),(0,i.kt)("td",{parentName:"tr",align:null},"DE Reduced 7%"),(0,i.kt)("td",{parentName:"tr",align:null},"7%"),(0,i.kt)("td",{parentName:"tr",align:null},"2")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"DE_R3"),(0,i.kt)("td",{parentName:"tr",align:null},"DE Other"),(0,i.kt)("td",{parentName:"tr",align:null},"DE Other"),(0,i.kt)("td",{parentName:"tr",align:null},"0%"),(0,i.kt)("td",{parentName:"tr",align:null},"3")))),(0,i.kt)("h2",{id:"tax-group-tax-methods .unnumbered"},"Tax Group Tax Methods"),(0,i.kt)("p",null,"The following tax group tax methods should be configured and broadcast\nto the appropriate German devices."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Tax Group ID"),(0,i.kt)("th",{parentName:"tr",align:null},"Tax Scheme ID"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Tax Rate"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"DE_1"),(0,i.kt)("td",{parentName:"tr",align:null},"DE"),(0,i.kt)("td",{parentName:"tr",align:null},"DE Standard 19%"),(0,i.kt)("td",{parentName:"tr",align:null},"DE Standard 19%")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"DE_2"),(0,i.kt)("td",{parentName:"tr",align:null},"DE"),(0,i.kt)("td",{parentName:"tr",align:null},"DE Reduced 7%"),(0,i.kt)("td",{parentName:"tr",align:null},"DE Reduced 7%")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"DE_3"),(0,i.kt)("td",{parentName:"tr",align:null},"DE"),(0,i.kt)("td",{parentName:"tr",align:null},"DE Other"),(0,i.kt)("td",{parentName:"tr",align:null},"DE Other")))),(0,i.kt)("h2",{id:"account-credentials .unnumbered"},"Account Credentials"),(0,i.kt)("p",null,"The following Account Credentials should be configured on the estate\nmanager and broadcast to the appropriate German devices."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"General Tab")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Account Credential ID"),(0,i.kt)("th",{parentName:"tr",align:null},"Name"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Use System Key"),(0,i.kt)("th",{parentName:"tr",align:null},"Is Live"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"FISCAL_GERMANY"),(0,i.kt)("td",{parentName:"tr",align:null},"Fiscal Key Store"),(0,i.kt)("td",{parentName:"tr",align:null},"Fiscal Key Store"),(0,i.kt)("td",{parentName:"tr",align:null},"TRUE"),(0,i.kt)("td",{parentName:"tr",align:null},"TRUE")))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Other Properties")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Property Name"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Value"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"SIG ALGORITHM"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"SHA256")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"ADMIN_PIN"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"A 5 digit PIN of your choosing")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"HOST_IP"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"127.0.0.1")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"PORT"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"8009")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"PUK"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"A 6 character alphanumeric password of your choosing")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"SECRET_KEY"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"EPSONKEY")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"USER_PIN"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"A 5 digit PIN of your choosing")))),(0,i.kt)("p",null,"The ADMIN_PIN, USER_PIN and PUK are used to authenticate with the TSE.\nWhen the TSE is first initialised, it will be set up with the values\nconfigured in the account credentials. When the POS communicates with\nthe TSE in the future it will need to login with the user (ADMIN or\nUSER) and PIN appropriate for the function it is performing. The PUK\n(PIN Unblock Key) can be used to reset the PIN's if they are forgotten,\nusing tools provided by Epson."),(0,i.kt)("p",null,"If the PIN and PUK are forgotten the TSE will be unrecoverable. It is\ntherefore important that these values are not changed once the TSE is\ninitialised (described in a later step) to do so would result in the TSE\nbecoming blocked as a result of too many failed PIN attempts. Unblocking\na TSE is a non-trivial exercise that would require loging on to the TSE\nand using tools provided by Epson."),(0,i.kt)("h2",{id:"section-3 .unnumbered"},""),(0,i.kt)("h2",{id:"process-connection .unnumbered"},"Process Connection"),(0,i.kt)("p",null,"Within the POS Process Connection Diagram Locate the\nGermanyFiscalService Connected Process as shown below:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Diagram Description automatically generated",src:n(7555).Z,width:"445",height:"124"})),(0,i.kt)("p",null,"Update the class name and the account credentials id in the\nSecurityModuleService as shown below:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Class Name:\ncom.enactor.peripherals.tse.driver.epson.impl.EpsonSecurityModule")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Account credentials id: FISCAL_GERMANY"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Graphical user interface, application Description automatically generated",src:n(91365).Z,width:"837",height:"378"})),(0,i.kt)("p",null,"This change will need to be broadcast or copied to the relevant German\nPOS devices."),(0,i.kt)("h2",{id:"privileges .unnumbered"},"Privileges"),(0,i.kt)("p",null,"The following privileges will need to be configured and broadcast to the\nappropriate German devices. It's recommended that a store manager be the\nonly role with these privileges since for the most part they permit the\nconfiguration and set up of a new TSE. Perhaps the exception to this may\nbe LoginAsTimeAdminAllowed and AuthorisesLoginAsTimeAdmin which may be\nrequired in the general operation of the POS as the TSE may require the\ntime to be set if it were ever unplugged."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Privilege ID"),(0,i.kt)("th",{parentName:"tr",align:null},"Package"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"enactor.pos.InitialiseDeviceAllowed"),(0,i.kt)("td",{parentName:"tr",align:null},"PosFiscalisation")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"enactor.pos.AuthorisesInitialiseDevice"),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"enactor.pos.LoginAsAdminAllowed"),(0,i.kt)("td",{parentName:"tr",align:null},"PosFiscalisation")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"enactor.pos.AuthorisesLoginAsAdmin"),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"enactor.pos.LoginAsTimeAdminAllowed"),(0,i.kt)("td",{parentName:"tr",align:null},"PosFiscalisation")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"enactor.pos.AuthorisesLoginAsTimeAdmin"),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"enactor.pos.RegisterPosAllowed"),(0,i.kt)("td",{parentName:"tr",align:null},"PosFiscalisation")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"enactor.pos.AuthorisesRegisterPos"),(0,i.kt)("td",{parentName:"tr",align:null})))),(0,i.kt)("h2",{id:"menus .unnumbered"},"Menus"),(0,i.kt)("p",null,"At an appropriate point within your German POS menu structure, suggested\non the Admin menu, a fiscalisation menu with the following 5 items will\nneed to be configured and broadcast the German POS devices. This menu\nwill be used to facilitate initialising the TSE and setting the time on\nthe device."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Graphical user interface, text, application, email Description automatically generated",src:n(62689).Z,width:"1198",height:"751"})),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Event"),(0,i.kt)("th",{parentName:"tr",align:null},"ID"),(0,i.kt)("th",{parentName:"tr",align:null},"Button Label"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Fiscal_TSE_Initialise"),(0,i.kt)("td",{parentName:"tr",align:null},"Fiscal_TSE_Initialise"),(0,i.kt)("td",{parentName:"tr",align:null},"Initialise TSE")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Fiscal_TSE_Login_Admin"),(0,i.kt)("td",{parentName:"tr",align:null},"Fiscal_TSE_Login_Admin"),(0,i.kt)("td",{parentName:"tr",align:null},"Login as Admin")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Fiscal_TSE_Login_TimeAdmin"),(0,i.kt)("td",{parentName:"tr",align:null},"Fiscal_TSE_Login_TimeAdmin"),(0,i.kt)("td",{parentName:"tr",align:null},"Login as Time Admin")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Fiscal_TSE_Register_POS"),(0,i.kt)("td",{parentName:"tr",align:null},"Fiscal_TSE_Register_POS"),(0,i.kt)("td",{parentName:"tr",align:null},"Register Pos")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Fiscal_TSE_UpdateTime"),(0,i.kt)("td",{parentName:"tr",align:null},"Fiscal_TSE_UpdateTime"),(0,i.kt)("td",{parentName:"tr",align:null},"Update Time")))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Graphical user interface, application Description automatically generated",src:n(61492).Z,width:"2042",height:"1526"})),(0,i.kt)("h1",{id:"initial-tse-setup .unnumbered"},"Initial TSE Setup"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the POS navigate to the fiscalisation menu created in the\nprevious step.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click the Initialise ",(0,i.kt)("strong",{parentName:"p"},"TSE")," button on the fiscalisation menu."),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"The POS will prompt 'Operation Completed Successfully' click OK.")))),(0,i.kt)("h3",{id:"click-the-login-as-admin-button-on-the-fiscalisation-menu"},"Click the Login as ",(0,i.kt)("strong",{parentName:"h3"},"Admin")," button on the fiscalisation menu."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The POS will prompt 'Operation Completed Successfully' click OK.")),(0,i.kt)("h3",{id:"click-the-register-pos-button-on-the-fiscalisation-menu"},"Click the Register ",(0,i.kt)("strong",{parentName:"h3"},"POS")," button on the fiscalisation menu."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The POS will prompt 'Operation Completed Successfully' click OK.")),(0,i.kt)("h3",{id:"click-the-login-as-time-admin-button-on-the-fiscalisation-menu"},"Click the Login as ",(0,i.kt)("strong",{parentName:"h3"},"Time")," Admin button on the fiscalisation menu."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The POS will prompt 'Operation Completed Successfully' click OK.")),(0,i.kt)("h3",{id:"click-the-update-time-button-on-the-fiscalisation-menu"},"Click the Update ",(0,i.kt)("strong",{parentName:"h3"},"Time button")," on the fiscalisation menu."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The POS will prompt 'Operation Completed Successfully' click OK.")),(0,i.kt)("p",null,"On occasion it is possible that the POS will prompt for the time to be\nupdated on the TSE, if this should happen repeat steps 8 through 11."),(0,i.kt)("p",null,"At this point it should be possible to complete fiscal transactions on\nthe POS. Also, when observing the details in the Epson TSE Monitor tool\nit should show the device as Initialised, as shown below."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Graphical user interface, text, application Description automatically generated",src:n(73183).Z,width:"1276",height:"1004"})),(0,i.kt)("h1",{id:"receipt .unnumbered"},"Receipt"),(0,i.kt)("p",null,"The format of the receipt is not prescribed by the German authorities\nalthough receipts should be provided to customers and there are some\nrequirements that must be met."),(0,i.kt)("p",null,"The following are required to be shown on the receipt:"),(0,i.kt)("p",null,"Add support file No file chosen\nTemplate\nDefault\nto\norg\nStandalone\nEmbed resources\nCiteproc\nTOC\nNumber sections"),(0,i.kt)("p",null,"Plain math"),(0,i.kt)("p",null,"Auto wrap"),(0,i.kt)("p",null,"No highlighting\npermalink\ndownload example as JSON\n| - Company name and address       | - Tax totals per VAT rate   |\n|                                  |                             |\n| - Date the receipt was issued    | - TSE Transaction number    |\n|                                  |                             |\n| - Transaction start and end time | - Amount per payment method |\n|                                  |                             |\n| - Item names                     | - Signature counter         |\n|                                  |                             |\n| - Quantities                     | - Signature value           |\n|                                  |                             |\n| - Total price                    | - Serial number of the TSE  |\n|                                  |                             |\n| - Item prices                    |                             |\n|----------------------------------|-----------------------------|\n|                                  |                             |"),(0,i.kt)("p",null,"Optionally a QR code with the above details can also be included and\nEnactor support this where it is also supported by the printer."),(0,i.kt)("p",null,"Within the POS Terminal Template there is a receipt available named\n'Fiscal XX Standard Receipt' which meets all of the above requirements.\nAlthough a retailer can choose to customise the receipt to meet their\nneeds, this should form a good starting point that contains all of the\nmandatory information. An example of this receipt is shown below."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Text Description automatically generated",src:n(75155).Z,width:"512",height:"1192"})))}c.isMDXComponent=!0},77632:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image1-e9e5e6491f7c789071c56d0766cfc3db.png"},73183:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image10-7f3b118f25e7fc58509208e420ec7178.png"},75155:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image11-fdc3b9650f084b3ab681e821ade06b9b.png"},76979:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image2-fdd536eaa0e26099cc132b2e0529d498.png"},86253:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image3-b717aeff4cbb187a011ff3149836f112.png"},53248:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image4-4560ae20e181736091e6417935856454.png"},58788:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image5-515fbbc408a56857714c9cd57694b381.png"},7555:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image6-b4067dd3ddfc73aa514e3d9acafd12d3.png"},91365:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image7-8bdca8a8b9de40648fb6057765e43da3.png"},62689:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image8-f30a3d633311e88a35c76e96e7ac874b.png"},61492:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/image9-d28c0f5394bc6e4018296a74936ed365.png"}}]);