<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-POS and Store/htg_comm_scr">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Configuring Customer Communication Scripts | My Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://michaeltolson.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://michaeltolson.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://michaeltolson.github.io/docs/POS and Store/htg_comm_scr"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Configuring Customer Communication Scripts | My Site"><meta data-rh="true" name="description" content="The purpose of this guide is to show how to configure Customer Order"><meta data-rh="true" property="og:description" content="The purpose of this guide is to show how to configure Customer Order"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://michaeltolson.github.io/docs/POS and Store/htg_comm_scr"><link data-rh="true" rel="alternate" href="https://michaeltolson.github.io/docs/POS and Store/htg_comm_scr" hreflang="en"><link data-rh="true" rel="alternate" href="https://michaeltolson.github.io/docs/POS and Store/htg_comm_scr" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Atom Feed"><link rel="stylesheet" href="/assets/css/styles.6d611281.css">
<link rel="preload" href="/assets/js/runtime~main.d11f947e.js" as="script">
<link rel="preload" href="/assets/js/main.19ab6258.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">My Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">How-to Guides</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"></div><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Configuration Basics/Estate Manager Navigation">Configuration Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Central Setup and Operations/Alerts and Monitoring">Central Setup and Operations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/POS and Store/POS Behaviour- Menus">POS and Store</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/POS and Store/POS Behaviour- Menus">POS Behaviour- Menus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/POS and Store/POS Order Capture">POS Order Capture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/POS and Store/POS Styles and Themes">POS Styles and Themes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/POS and Store/Store Inventory Management">Store Inventory Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/POS and Store/htg_comm_scr">Configuring Customer Communication Scripts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/POS and Store/htg_discounts">Configuring Discount Reasons</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/POS and Store/htg_emp_sale">Configuring Employee Sales</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/POS and Store/htg_receipts">Creating and Customising Receipts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/POS and Store/htg_returns">Configuring Return Reasons</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/POS and Store/htg_store">Configuring a New Store</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/POS and Store/htg_tender">Configuring Tender Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/POS and Store/htg_user_role">Configuring Users, User Templates and Roles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/POS and Store/htg_voids">Configuring Voids</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Cash Management/htg_cash_empty">Cash Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Promotions, Loyalty and Vouchers/htg_coupons">Promotions, Loyalty and Vouchers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Fiscal/htg_german">Fiscal</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Hospitality/htg_hosp_kprint">Hospitality</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">POS and Store</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Configuring Customer Communication Scripts</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Configuring Customer Communication Scripts</h1><h1>Introduction</h1><p>The purpose of this guide is to show how to configure Customer Order
Communication Scripts within the Enactor Estate Manager.</p><p>Communication Scripts are used to generate rich text emails and SMS
messages sent to customers. They are used to send</p><ul><li><p>Order confirmations</p></li><li><p>Order notifications, e.g. dispatch or refund notifications</p></li></ul><h1>Prerequisites</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a href="#resources" class="hash-link" aria-label="Direct link to Resources" title="Direct link to Resources">​</a></h2><p>Before starting to maintain a communication script, you should have the
following resources in place:</p><ul><li><p>Enactor Estate Manager</p></li><li><p>Enactor Order Manager</p></li><li><p>Standard Configuration, including:</p><ul><li><p>Base configuration</p></li><li><p>Order Management configuration</p></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prior-trainingexperience">Prior Training/Experience<a href="#prior-trainingexperience" class="hash-link" aria-label="Direct link to Prior Training/Experience" title="Direct link to Prior Training/Experience">​</a></h2><p>You should be familiar with the following:</p><ul><li><p>Estate Manager configuration</p></li><li><p>Data broadcasting</p></li><li><p>Order Management operations</p></li></ul><h1></h1><h1>Configuration</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="communication-script-maintenance">Communication Script Maintenance<a href="#communication-script-maintenance" class="hash-link" aria-label="Direct link to Communication Script Maintenance" title="Direct link to Communication Script Maintenance">​</a></h2><p>Communication scripts are maintained using the Communication Script
Maintenance application. The menu option is located in Configuration -<!-- -->&gt;<!-- -->
CRM, shown highlighted in this screenshot.</p><img loading="lazy" src="./comm_scr/media/image1.png" alt="" class="img_ev3q"><p>Selecting the menu option takes the user to the Communication Script
select page. An example is shown below, with the results filtered where
the name contains “store”. The four scripts shown are the order
confirmation and completion SMS and Email templates for an order to be
collected at a Store.</p><img loading="lazy" src="./comm_scr/media/image2.png" alt="" class="img_ev3q"><p>Editing the “Order Confirmation (Store)” communication script takes the
user to the General tab. If the communication script is relevant to a
CRM campaign, the campaign can be selected from the drop-down.</p><img loading="lazy" src="./comm_scr/media/image3.png" alt="" class="img_ev3q"><p>The next tab, Content, allows the user to edit the content of the
message. This communication script has been configured with the
following properties</p><ul><li><p>Content Type – the email will be sent with a content type of Rich Text
(HTML). The alternative is Plain Text.</p></li><li><p>Template Type – the template engine that will be used to generate the
content is Apache FreeMarker. Other options are No Template and Simple
Token Replacement.</p></li><li><p>Editor Type – choose which editor is used in the Maintenance page to</p><blockquote><p>edit the content. The options are Plain Text and Rich Text (HTML).
The two editors are shown in the screenshots below. Both editors
display the placeholders for the dynamic data elements. The HTML
editor will render the HTML static content.</p></blockquote></li></ul><img loading="lazy" src="./comm_scr/media/image4.png" alt="" class="img_ev3q"><p>Rich Text (HTML) editor</p><img loading="lazy" src="./comm_scr/media/image5.png" alt="" class="img_ev3q"><p>The final tab, Attachments, allows external files to be sent with the
email. The attachments can be referenced within the FreeMarker script
using the “cid:” notation, e.g.</p><p>\&lt;a href=&quot;#&quot;<!-- -->&gt;<!-- -->\&lt;img alt=&quot;Facebook&quot; src=&quot;cid:email_facebook.png&quot;
width=&quot;30&quot; /<!-- -->&gt;<!-- -->\&lt;/a<!-- -->&gt;</p><p>It is, however, not guaranteed to be displayed inline if the email
client does not support the cid notation.</p><p>A complete example of an order confirmation email is shown in the
appendices to this document.</p><p>The email rendered by the example, styled FreeMarker template will be
similar to that shown below.</p><img loading="lazy" src="./comm_scr/media/image6.png" alt="" class="img_ev3q"><h1>Apache FreeMarker</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-1">Introduction<a href="#introduction-1" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p>The communication script content is written using Apache’s FreeMarker
language. From the FreeMarker website, <a href="https://freemarker.apache.org" target="_blank" rel="noopener noreferrer">https://freemarker.apache.org</a>,
is this description.</p><blockquote><p>Apache FreeMarker™ is a <em>template engine</em>: a Java library to generate
text output (HTML web pages, e-mails, configuration files, source
code, etc.) based on templates and changing data. Templates are
written in the FreeMarker Template Language (FTL), which is a simple,
specialized language (not a full-blown programming language like PHP).
Usually, a general-purpose programming language (like Java) is used to
prepare the data (issue database queries, do business calculations).
Then, Apache FreeMarker displays that prepared data using templates.
In the template you are focusing on how to present the data, and
outside the template you are focusing on what data to present.</p><img loading="lazy" src="./comm_scr/media/image7.png" class="img_ev3q"></blockquote><p>Enactor’s implementation of FreeMarker performs exactly as described
above. A set of Java objects representing the Order plus the order’s
Items, Fulfilments and Payments are populated and passed to the template
engine along with the Communication Script content described above.</p><p>The output of the document generation from the static FreeMarker
content, combined with dynamic Java data, is an HTML email body.</p><p>A full FreeMarker reference and tutorial is here -
<a href="https://freemarker.apache.org/docs/dgui.html" target="_blank" rel="noopener noreferrer">https://freemarker.apache.org/docs/dgui.html</a></p><h1>Integration with Customer Orders</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="java-objects">Java Objects<a href="#java-objects" class="hash-link" aria-label="Direct link to Java Objects" title="Direct link to Java Objects">​</a></h2><p>The Java objects available within the FreeMarker template engine are
firstly listed and then described in more detail. Example JSON
representations of the objects are included in Appendices at the end of
this document.</p><p>Note that not all data is available in all cases, for example if the
notification is being generated for dispatch of one fulfilment, then the
list of fulfilments will be limited to one.</p><ul><li><p>Customer Order Header</p></li><li><p>List of Order Items</p></li><li><p>List of Fulfilments</p></li><li><p>List of Payments</p></li><li><p>Customer</p></li><li><p>Destination Location</p></li><li><p>Products Map</p></li><li><p>Product Images Map</p></li><li><p>Sizes Map</p></li><li><p>Style Attributes Map</p></li><li><p>Colours Map</p></li><li><p>Locations Map</p></li></ul><p>The sections below describe a subset of the properties for each of the
types listed above.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="customer-order-header">Customer Order Header<a href="#customer-order-header" class="hash-link" aria-label="Direct link to Customer Order Header" title="Direct link to Customer Order Header">​</a></h3><p>This object holds general properties of an order.</p><p>Object reference: customerOrderHeader</p><table><thead><tr><th><em>Property name</em></th><th><em>Java Type</em></th><th><em>Comments</em></th></tr></thead><tbody><tr><td>customerOrderId</td><td>String</td><td>Unique order ID.</td></tr><tr><td>createdByUserKey.userId</td><td>String</td><td>User ID of the POS user during order take on.</td></tr><tr><td>createdAtLocationKey.</td><td>String</td><td>Location ID of the POS during order take on.</td></tr><tr><td></td><td></td><td></td></tr><tr><td>locationId</td><td></td><td></td></tr><tr><td>createdDate</td><td>DateTimeWith-</td><td>The date the order was created. If order take on was at the POS, this is the date and time of the transaction. The Java type is an Enactor extension to Java Calendar class. See below for a formatting example.</td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td>TimeZoneAdapter</td><td></td></tr><tr><td>customerOrderTypeId</td><td>String</td><td>The order type ID of the order. Within Enactor there may be orders of different types, e.g. one order type per channel. Displaying the customer order type in an email to the customer may not be useful, but using the order type to conditionally display information may be.</td></tr><tr><td>customerTitle</td><td>String</td><td>The title captured for the customer.</td></tr><tr><td>customerFirstName</td><td>String</td><td>The first name of the customer who created the order.</td></tr><tr><td>customerPostcode</td><td>String</td><td>The customer&#x27;s postcode.</td></tr><tr><td>customerSurname</td><td>String</td><td>The customer&#x27;s surname.</td></tr><tr><td>customerNumber</td><td>String</td><td>The customer&#x27;s number, only set if there is a customer record in Enactor.</td></tr><tr><td>currencyKey.</td><td>String</td><td>Currency ID of the values and prices in the order. Typically used by the formatter to correctly format prices. See below for an example</td></tr><tr><td></td><td></td><td></td></tr><tr><td>currencyId</td><td></td><td></td></tr><tr><td>orderValue</td><td>Long</td><td>The total value of the order, in pence or equivalent, stored as a long value. Use the formatter with the currency ID to format for output. See below for an example.</td></tr><tr><td>status</td><td>String</td><td>The status of the order -- SUBMITTED, CANCELLED, AVAILABLE, COMPLETED, etc.</td></tr><tr><td>adjustments</td><td>List</td><td>A list of adjustments relating to the order, e.g. discounts, promotions, charges, etc. See below for details.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="customer-order-items">Customer Order Items<a href="#customer-order-items" class="hash-link" aria-label="Direct link to Customer Order Items" title="Direct link to Customer Order Items">​</a></h3><p>This list holds the list of items contained in the order. The properties
for one item line in the order are shown below.</p><p>Object reference: customerOrderItemList</p><table><thead><tr><th><em>Property name</em></th><th><em>Java Type</em></th><th><em>Comments</em></th></tr></thead><tbody><tr><td>fulfilmentId</td><td>Integer</td><td>The ID of the fulfilment for this line item.</td></tr><tr><td>lineNumber</td><td>Integer</td><td>The line number of this order item. Guaranteed to be unique in the order.</td></tr><tr><td>productKey.</td><td>String</td><td>The ID of the ordered product. Can be used in conjunction with the Products Map and the Product Images Map to output the product description, image URL and other details.</td></tr><tr><td></td><td></td><td></td></tr><tr><td>productId</td><td></td><td></td></tr><tr><td>orderedQty</td><td>Integer</td><td>The quantity ordered for this line item. If the line has been split, for example in the case of two fulfilments for the same product, this may not be the full quantity of this product in this order.</td></tr><tr><td>shippedQty</td><td>Integer</td><td>The quantity shipped for this line item, which for partial dispatches may be different from the ordered quantity.</td></tr><tr><td>effectiveNetValue</td><td>Long</td><td>The price paid by the customer for one ordered item. Discounts and promotions have been applied to the unit price. Multiply this property by the ordered or shipped quantity to calculate the line total.</td></tr><tr><td>unitPrice</td><td>Long</td><td>The original price of the product, without any discounts or promotions applied.</td></tr><tr><td>status</td><td>String</td><td>The status of the item -- SUBMITTED, CANCELLED, AVAILABLE, COMPLETED, etc.</td></tr><tr><td>adjustments</td><td>List</td><td>A list of adjustments relating to the order item, e.g. discounts, promotions, charges, etc. See below for details.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="customer-order-adjustment">Customer Order Adjustment<a href="#customer-order-adjustment" class="hash-link" aria-label="Direct link to Customer Order Adjustment" title="Direct link to Customer Order Adjustment">​</a></h3><p>This object holds the properties for any adjustments to an order or an
order item.</p><p>Object reference: customerOrderItem.adjustments<!-- -->[<!-- -->n<!-- -->]<!-- --> or
customerOrderHeadr.adjustments<!-- -->[<!-- -->n<!-- -->]<!-- --> where n is the index of the
adjustment. Alternatively use the iterator expression \&lt;#list
customerOrderItem.adjustments as customerOrderItemAdjustment<!-- -->&gt;</p><table><thead><tr><th><strong>Property name</strong></th><th><strong>Java Type</strong></th><th><strong>Comments</strong></th></tr></thead><tbody><tr><td>adjustmentType</td><td>String</td><td>The type of the adjustment, e.g. DISCOUNT, PROMOTION, SHIPPING, DELIVERY, etc.</td></tr><tr><td>adjustmentDetail</td><td>String</td><td>The details of any adjustment, e.g. the reason ID of the discount or promotion or the product ID of a delivery product.</td></tr><tr><td>description</td><td>String</td><td>The description of the adjustment, e.g. the reason description for a promotion.</td></tr><tr><td>amount</td><td>Long</td><td>The amount, in pence, of the adjustment.</td></tr><tr><td>percentage</td><td>Float</td><td>If the adjustment was a percentage of the item’s value, the percentage adjusted.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="customer-order-fulfilments">Customer Order Fulfilments<a href="#customer-order-fulfilments" class="hash-link" aria-label="Direct link to Customer Order Fulfilments" title="Direct link to Customer Order Fulfilments">​</a></h3><p>This list holds the list of fulfilments for the order items. The
properties for one fulfilment in the order are shown below.</p><p>Object reference: customerOrderFulfilmentList</p><table><thead><tr><th><em>Property name</em></th><th><em>Java Type</em></th><th><em>Comments</em></th></tr></thead><tbody><tr><td>fulfilmentId</td><td>Integer</td><td>The ID of the fulfilment for this line item. Using the fulfilment ID on the customer order item allows the items to be grouped by fulfilment and/or destination type.</td></tr><tr><td>sourceType</td><td>String</td><td>If the item is being sourced from a supplier, then ‘supplierFulfilment&#x27;, otherwise ‘locationStockFulfilment&#x27; for fulfilment from an internal location.</td></tr><tr><td>sourceId</td><td>String</td><td>In the case of location source type, the ID of the fulfilment location.</td></tr><tr><td>destinationType</td><td>String</td><td>The type of destination of the fulfilment, either ‘COLLECTION&#x27; for click and collect or ‘ADDRESS&#x27; for home delivery.</td></tr><tr><td>destinationLocationKey.</td><td>String</td><td>If the destination type is Collection, then the ID of the collection location. The details of the collection location can be displayed using the Locations Map, described below.</td></tr><tr><td></td><td></td><td></td></tr><tr><td>locationId</td><td></td><td>If the destination type is Address, then the destination address will be populated.</td></tr><tr><td>destinationName.</td><td>String</td><td>If the destination type is Address, then the destination name will be populated.</td></tr><tr><td></td><td></td><td></td></tr><tr><td>title</td><td></td><td></td></tr><tr><td>destinationName.</td><td>String</td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td>forename</td><td></td><td></td></tr><tr><td>destinationName.</td><td>String</td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td>surname</td><td></td><td></td></tr><tr><td>deliveryCharge</td><td>Long</td><td>Depending on the configuration used, the delivery type, charge and product ID may be populated. The delivery charge can be formatted using the order&#x27;s currency, described below.</td></tr><tr><td>deliveryChargeProductId</td><td>String</td><td></td></tr><tr><td>deliveryTypeKey.</td><td>String</td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td>deliveryTypeId</td><td></td><td></td></tr><tr><td>trackingDetails.</td><td>String</td><td>Depending on the configuration used, the delivery shipping provider and method may be populated.</td></tr><tr><td></td><td></td><td></td></tr><tr><td>shippingMethodDescription</td><td></td><td></td></tr><tr><td>trackingDetails.</td><td>String</td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td>shippingMethodId</td><td></td><td></td></tr><tr><td>trackingDetails.</td><td>String</td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td>shippingProviderDescription</td><td></td><td></td></tr><tr><td>trackingDetails.</td><td>String</td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td>shippingProviderId</td><td></td><td></td></tr><tr><td>trackingDetails.</td><td>String</td><td>If tracking details were communicated from the fulfilment system, the tracking reference and URL will be populated.</td></tr><tr><td></td><td></td><td></td></tr><tr><td>trackingReference</td><td></td><td></td></tr><tr><td>trackingDetails.</td><td>String</td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td>trackingUrl</td><td></td><td></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="customer-order-payments">Customer Order Payments<a href="#customer-order-payments" class="hash-link" aria-label="Direct link to Customer Order Payments" title="Direct link to Customer Order Payments">​</a></h3><p>This list holds the list of payments for the order. The properties for
one payment in the order are shown below.</p><p>Object reference: customerOrderPaymentList</p><table><thead><tr><th><em>Property name</em></th><th><em>Java Type</em></th><th><em>Comments</em></th></tr></thead><tbody><tr><td>paymentNumber</td><td>Integer</td><td>The number of the payment. Guaranteed to be unique for this order.</td></tr><tr><td>paymentType</td><td>String</td><td>The type of the payment, typically ‘customerOrderCashPayment&#x27; or ‘customerOrderCardPayment&#x27;.</td></tr><tr><td>amount</td><td>Long</td><td>The amount of this payment. Note that the amounts are always positive. The isRefund boolean below will signify that the payment was a refund back to the customer.</td></tr><tr><td>tenderKey.</td><td>String</td><td>The tender ID of the payment.</td></tr><tr><td></td><td></td><td></td></tr><tr><td>tenderId</td><td></td><td></td></tr><tr><td>currencyKey.</td><td>String</td><td>The currency of this payment.</td></tr><tr><td></td><td></td><td></td></tr><tr><td>currencyId</td><td></td><td></td></tr><tr><td>foreignValue</td><td>Long</td><td>If the payment was in a foreign currency, the foreign value and exchange rate will be populated.</td></tr><tr><td>exchangeRate</td><td>Float</td><td></td></tr><tr><td>status</td><td>String</td><td>The status of the payment -- COMMITTED, PENDING, REFUNDED, etc.</td></tr><tr><td>isRefund</td><td>Boolean</td><td>Whether this payment is a refund. Note that the amounts are always positive.</td></tr><tr><td>refundAvailable</td><td>Long</td><td>If this payment is not a refund, the amount of the payment that is available to be refunded. See the example in the next section on using Java boolean properties.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="customer">Customer<a href="#customer" class="hash-link" aria-label="Direct link to Customer" title="Direct link to Customer">​</a></h3><p>This list holds the customer record for the order. It will be populated
only if Customers are retrieved during order take on. Note that most, if
not all, of the customer properties will also be present in the order,
which may make this object superfluous.</p><p>Object reference: customer</p><table><thead><tr><th><em>Property name</em></th><th><em>Java Type</em></th><th><em>Comments</em></th></tr></thead><tbody><tr><td>customerNumber</td><td>String</td><td>The number of the customer. Guaranteed to be unique within the Estate.</td></tr><tr><td>nationality</td><td>String</td><td>The nationality of the customer.</td></tr><tr><td>customerName.</td><td>String</td><td>The title of the customer.</td></tr><tr><td></td><td></td><td></td></tr><tr><td>title</td><td></td><td></td></tr><tr><td>customerName.</td><td>String</td><td>The forename of the customer.</td></tr><tr><td></td><td></td><td></td></tr><tr><td>forename</td><td></td><td></td></tr><tr><td>customerName.</td><td>String</td><td>The surname of the customer.</td></tr><tr><td></td><td></td><td></td></tr><tr><td>surname</td><td></td><td></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="destination-location">Destination Location<a href="#destination-location" class="hash-link" aria-label="Direct link to Destination Location" title="Direct link to Destination Location">​</a></h3><p>The destination location is the same object used in the locations map,
described above for a fulfilment location.</p><p>Object references: destinationLocation, locationsMap</p><table><thead><tr><th><strong>Property name</strong></th><th><strong>Java Type</strong></th><th><strong>Comments</strong></th></tr></thead><tbody><tr><td>description</td><td>Integer</td><td>Location description</td></tr><tr><td>locationId</td><td>String</td><td>The ID of the location.</td></tr><tr><td>locationAddress.street1</td><td>String</td><td>Location address properties</td></tr><tr><td>locationAddress.street2</td><td>String</td><td></td></tr><tr><td>locationAddress.street3</td><td>String</td><td></td></tr><tr><td>locationAddress.town</td><td>String</td><td></td></tr><tr><td>locationAddress.county</td><td>String</td><td></td></tr><tr><td>locationAddress.postCode</td><td>String</td><td></td></tr><tr><td>locationAddress.phone1</td><td>String</td><td></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="products-map">Products Map<a href="#products-map" class="hash-link" aria-label="Direct link to Products Map" title="Direct link to Products Map">​</a></h3><p>This map holds details of the products in the order. The full product
record is in the map, meaning that every property of the product is
available. A small sample of the properties are shown below. Note that
much of the product record will be present elsewhere in the order, e.g.
product price. The products map exists only as an extended respository
of product information.</p><p>The map is keyed by product ID, obtained for example from the product ID
in an order item:</p><p>\${productsMap<!-- -->[<!-- -->customerOrderItem.productKey.productId<!-- -->]<!-- -->.productDescription.string}</p><p>Object reference: productsMap</p><table><thead><tr><th><em>Property name</em></th><th><em>Java Type</em></th><th><em>Comments</em></th></tr></thead><tbody><tr><td>productDescription.</td><td>String</td><td>The default description for the product.</td></tr><tr><td></td><td></td><td></td></tr><tr><td>string</td><td></td><td></td></tr><tr><td>brandKey.</td><td>String</td><td>The brand for the product.</td></tr><tr><td></td><td></td><td></td></tr><tr><td>groupId</td><td></td><td></td></tr><tr><td>taxGroupKey.</td><td>String</td><td>The tax group for the product.</td></tr><tr><td></td><td></td><td></td></tr><tr><td>taxGroupId</td><td></td><td></td></tr><tr><td>posDetails.</td><td>Integer</td><td>The customer age restriction for the product.</td></tr><tr><td></td><td></td><td></td></tr><tr><td>customerAgeRestriction</td><td></td><td></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="product-images-map">Product Images Map<a href="#product-images-map" class="hash-link" aria-label="Direct link to Product Images Map" title="Direct link to Product Images Map">​</a></h3><p>This map contains URLs of product images, keyed by product ID. Use any
product ID to use the URL from the map in the FreeMarker output.</p><p>See the example in the section below for more information.</p><p>Object reference: productImageURLsMap</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sizes-map">Sizes Map<a href="#sizes-map" class="hash-link" aria-label="Direct link to Sizes Map" title="Direct link to Sizes Map">​</a></h3><p>This map contains size objects, keyed by product ID. Use any product ID
to retrieve the size of the product from the map.</p><p>Object reference: sizeMap</p><table><thead><tr><th><strong>Property name</strong></th><th><strong>Java Type</strong></th><th><strong>Comments</strong></th></tr></thead><tbody><tr><td>sizeId</td><td>String</td><td>The ID of the size.</td></tr><tr><td>sizeRangeId</td><td>String</td><td>The ID of the size range.</td></tr><tr><td>description</td><td>String</td><td>The size’s description. Typically this property will be used to output the size’s description, e.g. “Extra Large”, rather than the size ID, e.g. “MENS_TROUSERS_XL”, which is held in the order item record.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="style-attributes-map">Style Attributes Map<a href="#style-attributes-map" class="hash-link" aria-label="Direct link to Style Attributes Map" title="Direct link to Style Attributes Map">​</a></h3><p>This map contains style attribute objects, keyed by product ID. Use any
product ID to retrieve the style attributes of the product from the map.</p><p>Object reference: sizeMap</p><table><thead><tr><th><em>Property name</em></th><th><em>Java Type</em></th><th><em>Comments</em></th></tr></thead><tbody><tr><td>attributeValue</td><td>String</td><td>The value of the style attribute.</td></tr><tr><td>styleAttribute.</td><td>String</td><td>The type of the option set of this style attribute.</td></tr><tr><td></td><td></td><td></td></tr><tr><td>optionSetKey.</td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td>type</td><td></td><td></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="colours-map">Colours Map<a href="#colours-map" class="hash-link" aria-label="Direct link to Colours Map" title="Direct link to Colours Map">​</a></h3><p>This map contains colour objects, keyed by product ID. Use any product
ID to retrieve the colour of the product from the map.</p><p>Object reference: colourmap</p><table><thead><tr><th><strong>Property name</strong></th><th><strong>Java Type</strong></th><th><strong>Comments</strong></th></tr></thead><tbody><tr><td>colourId</td><td>String</td><td>The ID of the colour.</td></tr><tr><td>colourRangeId</td><td>String</td><td>The ID of the colour range.</td></tr><tr><td>description</td><td>String</td><td>The colour’s description. Typically this property will be used to output the colour’s description, e.g. “Red”, rather than the size ID, e.g. “WOMENS_DRESSES_RED”, which is held in the order item record.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="locations-map">Locations Map<a href="#locations-map" class="hash-link" aria-label="Direct link to Locations Map" title="Direct link to Locations Map">​</a></h3><p>This map contains location objects, keyed by fulfilment ID. Use the
fulfilment ID to retrieve the location of the fulfilment from the map.</p><p>Object reference: locationMap</p><p>A sample set of properties of the location object are listed below. The
whole location object is contained in the map, but typically the name
and address are used in the output.</p><table><thead><tr><th><em>Property name</em></th><th><em>Java Type</em></th><th><em>Comments</em></th></tr></thead><tbody><tr><td>locationId</td><td>String</td><td>The ID of the location</td></tr><tr><td>description</td><td>String</td><td>The name of the location</td></tr><tr><td>locationAddress.</td><td>String</td><td>The address and phone number of the location</td></tr><tr><td></td><td></td><td></td></tr><tr><td>street1</td><td></td><td></td></tr><tr><td>locationAddress.</td><td>String</td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td>street2</td><td></td><td></td></tr><tr><td>locationAddress.</td><td>String</td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td>street3</td><td></td><td></td></tr><tr><td>locationAddress.</td><td>String</td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td>town</td><td></td><td></td></tr><tr><td>locationAddress.</td><td>String</td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td>county</td><td></td><td></td></tr><tr><td>locationAddress.</td><td>String</td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td>postCode</td><td></td><td></td></tr><tr><td>locationAddress.</td><td>String</td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td>phone1</td><td></td><td></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="template-language-examples">Template Language Examples<a href="#template-language-examples" class="hash-link" aria-label="Direct link to Template Language Examples" title="Direct link to Template Language Examples">​</a></h2><p>This section will highlight the structures used in the example templates
from this document. The examples below can be seen in the screenshot of
the generated email in the section above.</p><p>To replace dynamic text, use FreeMarker template language elements.</p><p><strong>Example 1</strong> – displaying the customer’s first name and order ID</p><p>The dynamic Java data is wrapped in \${…} and is converted to static
data by the FreeMarker engine.</p><p>\&lt;p<!-- -->&gt;<!-- -->Dear
\&lt;strong<!-- -->&gt;<!-- -->\${customerOrderHeader.customerFirstName}\&lt;/strong<!-- -->&gt;<!-- -->\&lt;/p<!-- -->&gt;</p><p>\&lt;p<!-- -->&gt;<!-- -->Thank you for your order. Information about your order
\&lt;strong<!-- -->&gt;<!-- -->#\${customerOrderHeader.customerOrderId}\&lt;/strong<!-- -->&gt;<!-- --> appears
below.\&lt;/p<!-- -->&gt;</p><p><strong>Example 2</strong> – iterating the list of items</p><p>Use the \&lt;#list …<!-- -->&gt;<!-- --> structure</p><p>\&lt;#list customerOrderItemList as customerOrderItem<!-- -->&gt;</p><p>The named variable after the “as” can be used within the context of the
list as in example 1.</p><p>\${customerOrderItem.orderedQty}</p><p><strong>Example 3</strong> – display information from a map structure</p><p>Maps of data are passed to the FreeMarker engine, one being a map of
product image URLs keyed by product ID. Use the <!-- -->[<!-- -->…<!-- -->]<!-- --> structure combined
with \${…} to retrieve values from a map.</p><p><code>\&lt;img src=\${productImageURLsMap\[customerOrderItem.productKey.productId\]}\&gt;</code></p><p>Use the locationMap object to output the description of the location
rather than the location’s ID.</p><p>\${locationMap<!-- -->[<!-- -->customerOrderHeader.createdAtLocationKey.locationId?string<!-- -->]<!-- -->.description}</p><p><strong>Example 4</strong> – use a formatter to format a price</p><p>Enactor provides extensions to FreeMarker built-ins. One of these
extensions can be used to format prices. Use the freeMarkerFormatter
within the \${…} structure. The value of an order is multiplied by the
quantity to get the total price, which is formatted using the currency
ID from order.</p><p>\${freeMarkerFormatter.formatCurrency((customerOrderItem.orderedQty <!-- -->*<!-- -->
customerOrderItem.effectiveNetValue),customerOrderHeader.currencyKey.currencyId)}</p><p>Use the orderValue property to output the total value of the order.</p><p>\${freeMarkerFormatter.formatCurrency(customerOrderHeader.orderValue,customerOrderHeader.currencyKey.currencyId)}</p><p><strong>Example 5</strong> – use a formatter to format a date</p><p>Use the freeMarkerFormatter within the \${…} structure as for the
currency format. Pass the date format in a Java SimpleDateFormat format
as the second parameter to the method.</p><p>\${freeMarkerFormatter.formatDate(customerOrderHeader.createdDate, &quot;dd
MMM yyyy hh:mm:ss&quot;)}</p><p><strong>Example 6</strong> – conditional output</p><p>The example scripts in this document use a nested iterator with a
conditional \&lt;#if<!-- -->&gt;<!-- --> to group the items in the order by fulfilment
method, for example if a customer has opted for both home delivery and
store collection in the same order.</p><p>\&lt;#list customerOrderFulfilmentList as customerOrderFulfilment<!-- -->&gt;</p><p>\&lt;#list customerOrderItemList as customerOrderItem<!-- -->&gt;</p><p>\&lt;#if customerOrderItem.fulfilmentId ==
customerOrderFulfilment.fulfilmentId<!-- -->&gt;</p><p>-- display this item’s detail here</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;/#list<!-- -->&gt;</p><p>\&lt;/#list<!-- -->&gt;</p><p><strong>Example 7</strong> – conditional output revisited</p><p>The FreeMarker built-in function has_content can be used within an
\&lt;#if<!-- -->&gt;<!-- --> to determine if the Java object has data, i.e. is not null and
not “empty”.</p><p>This sample will only output Street 2 of the destination address if it
is populated.</p><p>\&lt;#if (customerOrderFulfilment.destinationAddress.street2)?has_content
<!-- -->&gt;</p><p>\${customerOrderFulfilment.destinationAddress.street2}\&lt;br/<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p><strong>Example 8</strong> – using Java boolean properties</p><p>The usual Java “toString” operation does not work in FreeMarker.
Attempting to output the value of a boolean property in a FreeMarker
template will produce an empty string. Using the “?string” built-in will
convert the boolean value to the strings specified, or use the <!-- -->#<!-- -->if
construction to test the value and output appropriately.</p><p>\&lt;#if (customerOrderPayment.isRefund)<!-- -->&gt;<!-- -->Refund payment\&lt;/#if<!-- -->&gt;</p><p>\${customerOrderPayment.isRefund?string(&quot;Refund payment&quot;, &quot;Not refund
payment&quot;)}</p><h1>Testing Communication Scripts</h1><p>Changes made to communication scripts using the Communication Script
Maintenance are applied immediately. As soon as the communication script
has successfully been saved, any order communications generated will use
the new script layout.</p><p>The Business Process Administration page on Estate Manager is available
to administrators with suitable privileges and can be used to re-run
individual business process tasks. This will allow testing of the
generation of Communication Scripts without the need to complete the
take on of a new order on the POS and wait for processing to complete.</p><p>To access Business Process Administration, go to the Administration -<!-- -->&gt;<!-- -->
Business Process menu and select Business Process Administration.</p><img loading="lazy" src="./comm_scr/media/image8.png" alt="" class="img_ev3q"><p>The Business Process Administration page lists all business process
instances. To filter the page to show the single business process
controlling the customer order that can be used for testing, go to
Operations -<!-- -->&gt;<!-- --> CRM -<!-- -->&gt;<!-- --> Customer Orders and view a suitable order.</p><p>Select and copy the Internal Reference field from the customer order,
shown below, and return back to the list of business
processes.<img loading="lazy" src="./comm_scr/media/image9.png" alt="" class="img_ev3q"></p><p>Paste the copied Internal Reference to the Instance ID filter and press
Apply Filters. This will display a single customer order business
process instance. Edit the business process by selecting the Edit pencil
icon.</p><img loading="lazy" src="./comm_scr/media/image10.png" alt="" class="img_ev3q"><p>To fully verify and confirm that the business process instance and
correct customer order are linked, select the View icon to display a
pop-up dialog containing the properties of that particular task. One of
the properties will be the CustomerOrderId, which will match the order
ID of used to copy the Internal Reference.</p><img loading="lazy" src="./comm_scr/media/image11.png" alt="" class="img_ev3q"><p>Selecting the Rerun button on the Send Order Confirmation task will
cause the business process engine to “undo” or compensate all subsequent
tasks and then rerun the Send Order Confirmation task, continuing the
business process from the compensated task.</p><p>The screenshot below shows that the original task, from 11/12/20 has
been Undone and another rerun task generated on 5/01/21. The Send Order
Confirmation task will cause the order confirmation email to be sent to
the customer, in the process regenerating the email contents from the
updated communication script.</p><img loading="lazy" src="./comm_scr/media/image12.png" alt="" class="img_ev3q"><p>Using the process described above, the email can be regenerated from the
updated communication scripts many times in quick succession, without
having to resort to having to create a new order and wait for
processing.</p><h1>Appendix 1</h1><p>Example FreeMarker script for Order Confirmation Email, simplified.</p><p>\&lt;html xmlns=&quot;<a href="http://www.w3.org/1999/xhtml%22%5C%3E" target="_blank" rel="noopener noreferrer">http://www.w3.org/1999/xhtml&quot;\&gt;</a></p><p>\&lt;h1 style=&quot;color: <!-- -->#<!-- -->5e9ca0;&quot;<!-- -->&gt;<!-- -->Thank you for your order\&lt;/h1<!-- -->&gt;</p><p>\&lt;h2 style=&quot;color: <!-- -->#<!-- -->2e6c80;&quot;<!-- -->&gt;<!-- -->Your order has been submitted. You will
receive an email when it is ready for collection.\&lt;/h2<!-- -->&gt;</p><p>\&lt;p<!-- -->&gt;<!-- -->Dear
\&lt;strong<!-- -->&gt;<!-- -->\${customerOrderHeader.customerFirstName}\&lt;/strong<!-- -->&gt;<!-- -->\&lt;br /<!-- -->&gt;</p><p>\&lt;span<!-- -->&gt;<!-- -->Thank you for your order. Information about your order
\&lt;strong<!-- -->&gt;<!-- -->#\${customerOrderHeader.customerOrderId}\&lt;/strong<!-- -->&gt;<!-- --> appears
below. \&lt;br/<!-- -->&gt;</p><p>If you need to get in touch with us about your order please contact us
at: \&lt;/span<!-- -->&gt;<!-- -->\&lt;a
href=&quot;mailto:<a href="mailto:customerservices@yourcompany.co.uk" target="_blank" rel="noopener noreferrer">customerservices@yourcompany.co.uk</a>&quot;<!-- -->&gt;<!-- -->\&lt;span<!-- -->&gt;<a href="mailto:customerservices@yourcompany.co.uk" target="_blank" rel="noopener noreferrer">customerservices@yourcompany.co.uk</a>\&lt;/span<!-- -->&gt;<!-- -->\&lt;/a<!-- -->&gt;<!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;/p<!-- -->&gt;</p><p>\&lt;p<!-- -->&gt;</p><p>\&lt;table<!-- -->&gt;</p><p>\&lt;tr bgcolor=&quot;#efedec&quot;<!-- -->&gt;</p><p>\&lt;th<!-- -->&gt;<!-- -->ITEM DESCRIPTION\&lt;/th<!-- -->&gt;</p><p>\&lt;th<!-- -->&gt;<!-- -->QUANTITY\&lt;/th<!-- -->&gt;</p><p>\&lt;th<!-- -->&gt;<!-- -->PRICE\&lt;/th<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;#list customerOrderFulfilmentList as customerOrderFulfilment<!-- -->&gt;</p><p>\&lt;#list customerOrderItemList as customerOrderItem<!-- -->&gt;</p><p>\&lt;#if customerOrderItem.fulfilmentId ==
customerOrderFulfilment.fulfilmentId<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td<!-- -->&gt;<!-- -->&#x27;\&lt;img src=\${productImageURLsMap<!-- -->[<!-- -->customerOrderItem.productKey.productId<!-- -->]<!-- -->}&#x27;
width=&quot;57&quot; height=&quot;57&quot;
alt=\${productsMap<!-- -->[<!-- -->customerOrderItem.productKey.productId<!-- -->]<!-- -->.productDescription.string}/<!-- -->&gt;<!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;td<!-- -->&gt;<!-- -->\${productsMap<!-- -->[<!-- -->customerOrderItem.productKey.productId<!-- -->]<!-- -->.productDescription.string}\&lt;/td<!-- -->&gt;</p><p>\&lt;td<!-- -->&gt;<!-- -->\${customerOrderItem.orderedQty}\&lt;/td<!-- -->&gt;</p><p>\&lt;td<!-- -->&gt;<!-- -->\${freeMarkerFormatter.formatCurrency((customerOrderItem.orderedQty
<!-- -->*<!-- -->
customerOrderItem.effectiveNetValue),customerOrderHeader.currencyKey.currencyId)}\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;/#list<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td colspan=&quot;2&quot;<!-- -->&gt;<!-- --> <!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;td colspan=&quot;2&quot;<!-- -->&gt;<!-- -->Delivery:
\${freeMarkerFormatter.formatCurrency(customerOrderFulfilment.deliveryCharge,customerOrderHeader.currencyKey.currencyId)}\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;#if customerOrderFulfilment.destinationType ==&quot;ADDRESS&quot;<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;<!-- -->\&lt;td colspan=&quot;4&quot; height=&quot;25&quot;<!-- -->&gt;<!-- --> <!-- -->\&lt;/td<!-- -->&gt;<!-- -->\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr bgcolor=&quot;#efedec&quot;<!-- -->&gt;</p><p>\&lt;td<!-- -->&gt;<!-- -->HOME DELIVERY DETAILS\&lt;/span<!-- -->&gt;<!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr style=&quot;border-bottom: 2px solid <!-- -->#<!-- -->efedec;&quot;<!-- -->&gt;</p><p>\&lt;td<!-- -->&gt;</p><p>\&lt;p<!-- -->&gt;</p><p>\&lt;#if (customerOrderFulfilment.destinationAddress.street1)?has_content
<!-- -->&gt;</p><p>\${customerOrderFulfilment.destinationAddress.street1}\&lt;br/<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;#if (customerOrderFulfilment.destinationAddress.street2)?has_content
<!-- -->&gt;</p><p>\${customerOrderFulfilment.destinationAddress.street2}\&lt;br/<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;#if (customerOrderFulfilment.destinationAddress.street3)?has_content
<!-- -->&gt;</p><p>\${customerOrderFulfilment.destinationAddress.street3}\&lt;br/<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;#if (customerOrderFulfilment.destinationAddress.town)?has_content <!-- -->&gt;</p><p>\${customerOrderFulfilment.destinationAddress.town}\&lt;br/<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;#if (customerOrderFulfilment.destinationAddress.county)?has_content <!-- -->&gt;</p><p>\${customerOrderFulfilment.destinationAddress.county}\&lt;br/<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;#if (customerOrderFulfilment.destinationAddress.postCode)?has_content
<!-- -->&gt;</p><p>\${customerOrderFulfilment.destinationAddress.postCode}\&lt;br/<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;#if (customerOrderFulfilment.destinationAddress.phone1)?has_content <!-- -->&gt;</p><p>\${customerOrderFulfilment.destinationAddress.phone1}\&lt;br/<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;/p<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;#if customerOrderFulfilment.destinationType ==&quot;COLLECTION&quot;<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;<!-- -->\&lt;td colspan=&quot;4&quot; height=&quot;25&quot;<!-- -->&gt;<!-- --> <!-- -->\&lt;/td<!-- -->&gt;<!-- -->\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr bgcolor=&quot;#efedec&quot;<!-- -->&gt;</p><p>\&lt;td<!-- -->&gt;<!-- -->STORE COLLECTION DETAILS\&lt;/span<!-- -->&gt;<!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td colspan=&quot;4&quot; height=&quot;25&quot;<!-- -->&gt;<!-- --> <!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr style=&quot;border-bottom: 2px solid <!-- -->#<!-- -->efedec;&quot;<!-- -->&gt;</p><p>\&lt;td<!-- -->&gt;</p><p>\&lt;p<!-- -->&gt;</p><p>\&lt;#if
(locationMap<!-- -->[<!-- -->customerOrderFulfilment.fulfilmentId?string<!-- -->]<!-- -->.description)?has_content
<!-- -->&gt;</p><p>\${locationMap<!-- -->[<!-- -->customerOrderFulfilment.fulfilmentId?string<!-- -->]<!-- -->.description}\&lt;br/<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;#if
(locationMap<!-- -->[<!-- -->customerOrderFulfilment.fulfilmentId?string<!-- -->]<!-- -->.locationAddress.street1)?has_content
<!-- -->&gt;</p><p>\${locationMap<!-- -->[<!-- -->customerOrderFulfilment.fulfilmentId?string<!-- -->]<!-- -->.locationAddress.street1}\&lt;br/<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;#if
(locationMap<!-- -->[<!-- -->customerOrderFulfilment.fulfilmentId?string<!-- -->]<!-- -->.locationAddress.street2)?has_content
<!-- -->&gt;</p><p>\${locationMap<!-- -->[<!-- -->customerOrderFulfilment.fulfilmentId?string<!-- -->]<!-- -->.locationAddress.street2}\&lt;br/<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;#if
(locationMap<!-- -->[<!-- -->customerOrderFulfilment.fulfilmentId?string<!-- -->]<!-- -->.locationAddress.street3)?has_content
<!-- -->&gt;</p><p>\${locationMap<!-- -->[<!-- -->customerOrderFulfilment.fulfilmentId?string<!-- -->]<!-- -->.locationAddress.street3}\&lt;br/<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;#if
(locationMap<!-- -->[<!-- -->customerOrderFulfilment.fulfilmentId?string<!-- -->]<!-- -->.locationAddress.town)?has_content
<!-- -->&gt;</p><p>\${locationMap<!-- -->[<!-- -->customerOrderFulfilment.fulfilmentId?string<!-- -->]<!-- -->.locationAddress.town}\&lt;br/<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;#if
(locationMap<!-- -->[<!-- -->customerOrderFulfilment.fulfilmentId?string<!-- -->]<!-- -->.locationAddress.county)?has_content
<!-- -->&gt;</p><p>\${locationMap<!-- -->[<!-- -->customerOrderFulfilment.fulfilmentId?string<!-- -->]<!-- -->.locationAddress.county}\&lt;br/<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;#if
(locationMap<!-- -->[<!-- -->customerOrderFulfilment.fulfilmentId?string<!-- -->]<!-- -->.locationAddress.postCode)?has_content
<!-- -->&gt;</p><p>\${locationMap<!-- -->[<!-- -->customerOrderFulfilment.fulfilmentId?string<!-- -->]<!-- -->.locationAddress.postCode}\&lt;br/<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;#if
(locationMap<!-- -->[<!-- -->customerOrderFulfilment.fulfilmentId?string<!-- -->]<!-- -->.locationAddress.phone1)?has_content
<!-- -->&gt;</p><p>\${locationMap<!-- -->[<!-- -->customerOrderFulfilment.fulfilmentId?string<!-- -->]<!-- -->.locationAddress.phone1}\&lt;br/<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;/p<!-- -->&gt;</p><p>\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;/#if<!-- -->&gt;</p><p>\&lt;/#list<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td colspan=&quot;2&quot;<!-- -->&gt;<!-- --> <!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;td colspan=&quot;2&quot;<!-- -->&gt;<!-- -->Inclusive of VAT at 20%\&lt;/span<!-- -->&gt;<!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td colspan=&quot;2&quot; style=&quot;font-size: 21px;&quot;<!-- -->&gt;<!-- -->TOTAL\&lt;/td<!-- -->&gt;</p><p>\&lt;td colspan=&quot;2&quot; style=&quot;font-size:
21px;&quot;<!-- -->&gt;<!-- -->\${freeMarkerFormatter.formatCurrency(customerOrderHeader.orderValue,customerOrderHeader.currencyKey.currencyId)}\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;/table<!-- -->&gt;</p><p>\&lt;/p<!-- -->&gt;</p><p>\&lt;/html<!-- -->&gt;</p><h1>Appendix 2</h1><p>Example FreeMarker script for Order Confirmation Email, complete with
styling. The HTML for this template was generated using a WYSIWYG HTML
editor, with dynamic text replaced with template language elements.</p><p>\&lt;meta content=&quot;width=device-width&quot; name=&quot;viewport&quot; /<!-- -->&gt;</p><p>\&lt;meta content=&quot;text/html; charset=UTF-8&quot; http-equiv=&quot;Content-Type&quot; /<!-- -->&gt;</p><p>\&lt;title<!-- -->&gt;<!-- -->Yourcompany.co.uk\&lt;/title<!-- -->&gt;</p><p>\&lt;link href=&quot;<a href="http://fonts.googleapis.com/css?family=Montserrat:400,700%22" target="_blank" rel="noopener noreferrer">http://fonts.googleapis.com/css?family=Montserrat:400,700&quot;</a>
rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /<!-- -->&gt;</p><p>\&lt;link href=&quot;<a href="http://fonts.googleapis.com/css?family=Bitter:400,700%22" target="_blank" rel="noopener noreferrer">http://fonts.googleapis.com/css?family=Bitter:400,700&quot;</a>
rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /<!-- -->&gt;</p><p>\&lt;style type=&quot;text/css&quot;<!-- -->&gt;<!-- --> @import
url(<a href="http://fonts.googleapis.com/css?family=Montserrat:400,700)" target="_blank" rel="noopener noreferrer">http://fonts.googleapis.com/css?family=Montserrat:400,700)</a>; @import
url(<a href="http://fonts.googleapis.com/css?family=Bitter:400,700)" target="_blank" rel="noopener noreferrer">http://fonts.googleapis.com/css?family=Bitter:400,700)</a>; body{
font-family: Arial, sans-serif!important; } @media screen{ font-family:
&#x27;Montserrat&#x27;, arial, sans-serif; } /<!-- -->*<!-- -->
------------------------------------------- PHONE
-------------------------------------------- <!-- -->*<!-- -->/ @media only screen and
(max-width: 600px) { body{ font-family: &#x27;Montserrat&#x27;, arial, sans-serif;
} .emailImage{ height:auto !important; max-width:600px !important;
width: 100% !important; } } .ExternalClass {width: 100%;}\&lt;/style<!-- -->&gt;</p><p>\&lt;!--<!-- -->[<!-- -->if (gte mso 9)<!-- -->|<!-- -->(IE)<!-- -->]<!-- -->&gt;</p><p>\&lt;table width=&quot;600&quot; align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;
border=&quot;0&quot; style=&quot;display:block!important; margin:0 auto!important;
text-align: center;&quot;<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td<!-- -->&gt;</p><p>\&lt;<!-- -->!<!-- -->[endif<!-- -->]<!-- -->--<!-- -->&gt;</p><p>\&lt;center<!-- -->&gt;</p><p>\&lt;table align=&quot;center&quot; bgcolor=&quot;#ffffff&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;
height=&quot;100%&quot; style=&quot;border-collapse: collapse;margin:0 auto!important;
text-align: center;&quot; valign=&quot;center&quot; width=&quot;100%&quot;<!-- -->&gt;</p><p>\&lt;tbody<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td align=&quot;center&quot;<!-- -->&gt;<!-- --> \&lt;img alt=&quot;Yourcompany&quot; class=&quot;emailImage&quot;
src=&quot;cid:email_logo.jpg&quot; style=&quot;display: block;&quot; width=&quot;600&quot; /<!-- -->&gt;<!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td align=&quot;center&quot;<!-- -->&gt;<!-- --> \&lt;img alt=&quot;&quot; class=&quot;emailImage&quot;
src=&quot;cid:email_line.jpg&quot; style=&quot;display: block; &quot; width=&quot;600&quot; /<!-- -->&gt;<!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td align=&quot;center&quot; bgcolor=&quot;#FFFFFF&quot;
style=&quot;display:inline-block!important; max-width:600px!important;
margin:0 auto!important; clear:both!important;&quot;<!-- -->&gt;</p><p>\&lt;div style=&quot;padding: 0px; max-width:600px; margin:0 auto;
display:block; width:100%;&quot;<!-- -->&gt;</p><p>\&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; height=&quot;100%&quot;
style=&quot;border-collapse: collapse;&quot; width=&quot;100%&quot;<!-- -->&gt;</p><p>\&lt;tbody<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td width=&quot;3%&quot;<!-- -->&gt;<!-- --> <!-- --> <!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;td width=&quot;94%&quot;<!-- -->&gt;</p><p>\&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; height=&quot;100%&quot;
style=&quot;border-collapse: collapse;&quot; width=&quot;100%&quot;<!-- -->&gt;</p><p>\&lt;tbody<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td colspan=&quot;&quot; height=&quot;30&quot;<!-- -->&gt;<!-- --> <!-- -->&amp;<!-- -->nbsp;\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td align=&quot;center&quot; bgcolor=&quot;#efedec&quot; colspan=&quot;&quot;<!-- -->&gt;</p><p>\&lt;div style=&quot;padding: 20px 35px 35px 35px; &quot;<!-- -->&gt;</p><p>\&lt;h1 style=&quot;color: <!-- -->#<!-- -->333333; font-family: Arial, sans-serif; font-size:
27px;&quot;<!-- -->&gt;<!-- --> \&lt;span style=&quot;font-family: &#x27;Bitter&#x27;, Arial, sans-serif
!important;&quot;<!-- -->&gt;<!-- -->Thank you for your order\&lt;/span<!-- -->&gt;<!-- -->\&lt;/h1<!-- -->&gt;</p><p>\&lt;p style=&quot;color: <!-- -->#<!-- -->333333; font-family: Arial, sans-serif; font-size:
16px; font-weight: 400; line-height: 25px; padding: 0px; margin: 0px;&quot;<!-- -->&gt;<!-- -->
\&lt;span style=&quot;font-family: &#x27;Montserrat&#x27;, Arial, sans-serif
!important;&quot;<!-- -->&gt;<!-- -->Your order has been submitted.\&lt;br /<!-- -->&gt;<!-- --> You will receive an
email when it is ready for collection.\&lt;/span<!-- -->&gt;<!-- -->\&lt;/p<!-- -->&gt;</p><p>\&lt;/div<!-- -->&gt;</p><p>\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td colspan=&quot;&quot; height=&quot;20&quot;<!-- -->&gt;<!-- --> <!-- -->&amp;<!-- -->nbsp;\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td align=&quot;center&quot; colspan=&quot;3&quot; style=&quot;line-height: 20px; color:
<!-- -->#<!-- -->333333; font-family: Arial, sans-serif; text-align: left; font-size:
14px; font-weight: 400; padding: 0px; margin: 0px;&quot;<!-- -->&gt;</p><p>\&lt;p<!-- -->&gt;<!-- --> \&lt;span style=&quot;font-family: &#x27;Montserrat&#x27;, Arial, sans-serif
!important;&quot;<!-- -->&gt;<!-- -->Dear
\&lt;strong<!-- -->&gt;<!-- -->\${customerOrderHeader.customerFirstName}\&lt;/strong<!-- -->&gt;<!-- -->\&lt;/span<!-- -->&gt;<!-- -->\&lt;/p<!-- -->&gt;</p><p>\&lt;span style=&quot;font-family: &#x27;Montserrat&#x27;, Arial, sans-serif
!important;&quot;<!-- -->&gt;<!-- -->Thank you for your order. Information about your order
\&lt;strong<!-- -->&gt;<!-- -->#\${customerOrderHeader.customerOrderId}\&lt;/strong<!-- -->&gt;<!-- --> appears
below.\&lt;br /<!-- -->&gt;<!-- --> If you need to get in touch with us about your order
please contact us at: \&lt;/span<!-- -->&gt;<!-- -->\&lt;a
href=&quot;mailto:<a href="mailto:customerservices@yourcompany.co.uk" target="_blank" rel="noopener noreferrer">customerservices@yourcompany.co.uk</a>&quot; style=&quot;color: <!-- -->#<!-- -->8c827a;
font-family: Arial, sans-serif; font-size: 14px; font-weight: 600;
text-decoration: none; margin: 0px; padding: 0px;
display:inline-block;&quot;<!-- -->&gt;<!-- -->\&lt;span style=&quot;font-family: &#x27;Montserrat&#x27;, Arial,
sans-serif
!important;&quot;<!-- -->&gt;<a href="mailto:customerservices@yourcompany.co.uk" target="_blank" rel="noopener noreferrer">customerservices@yourcompany.co.uk</a>\&lt;/span<!-- -->&gt;<!-- -->\&lt;/a<!-- -->&gt;</p><p>\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td colspan=&quot;3&quot; height=&quot;30&quot;<!-- -->&gt;<!-- --> <!-- -->&amp;<!-- -->nbsp;\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td align=&quot;center&quot; colspan=&quot;3&quot;<!-- -->&gt;</p><p>\${formattedOrderLines}</p><p>\&lt;table align=&quot;center&quot; bgcolor=&quot;#ffffff&quot; cellpadding=&quot;3&quot; cellspacing=&quot;0&quot;
height=&quot;100%&quot; style=&quot;border-collapse: collapse;margin:0 auto!important;
text-align: center;&quot; valign=&quot;center&quot; width=&quot;100%&quot;<!-- -->&gt;</p><p>\&lt;tbody<!-- -->&gt;</p><p>\&lt;tr bgcolor=&quot;#efedec&quot;<!-- -->&gt;</p><p>\&lt;th colspan=&quot;2&quot; style=&quot;line-height: 20px; color: <!-- -->#<!-- -->746c65; font-family:
Arial, sans-serif; text-align: left; font-size: 14px; font-weight: 600;
padding: 5px 5px 5px 10px; margin: 0px;&quot;<!-- -->&gt;<!-- --> \&lt;span style=&quot;font-family:
&#x27;Montserrat&#x27;, Arial, sans-serif !important;&quot;<!-- -->&gt;<!-- -->ITEM
DESCRIPTION\&lt;/span<!-- -->&gt;<!-- -->\&lt;/th<!-- -->&gt;</p><p>\&lt;th style=&quot;line-height: 20px; color: <!-- -->#<!-- -->746c65; font-family: Arial,
sans-serif; text-align: left; font-size: 14px; font-weight: 600;
padding: 5px; margin: 0px;&quot;<!-- -->&gt;<!-- --> \&lt;span style=&quot;font-family: &#x27;Montserrat&#x27;,
Arial, sans-serif !important;&quot;<!-- -->&gt;<!-- -->QUANTITY\&lt;/span<!-- -->&gt;<!-- -->\&lt;/th<!-- -->&gt;</p><p>\&lt;th style=&quot;line-height: 20px; color: <!-- -->#<!-- -->746c65; font-family: Arial,
sans-serif; text-align: left; font-size: 14px; font-weight: 600;
padding: 5px; margin: 0px;&quot;<!-- -->&gt;<!-- --> \&lt;span style=&quot;font-family: &#x27;Montserrat&#x27;,
Arial, sans-serif !important;&quot;<!-- -->&gt;<!-- -->PRICE\&lt;/span<!-- -->&gt;<!-- -->\&lt;/th<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr style=&quot;border-bottom: 2px solid <!-- -->#<!-- -->efedec;&quot;<!-- -->&gt;</p><p>\&lt;td colspan=&quot;2&quot;<!-- -->&gt;<!-- --> <!-- -->&amp;<!-- -->nbsp;\&lt;/td<!-- -->&gt;</p><p>\&lt;td colspan=&quot;2&quot; style=&quot;line-height: 20px; color: <!-- -->#<!-- -->333333; font-family:
Arial, sans-serif; text-align: right; font-size: 14px; font-weight: 400;
padding: 5px; margin: 0px;&quot;<!-- -->&gt;<!-- --> \&lt;span style=&quot;font-family: &#x27;Montserrat&#x27;,
Arial, sans-serif !important;&quot;<!-- -->&gt;<!-- -->Inclusive of VAT at 20%\&lt;/span<!-- -->&gt;<!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr style=&quot;border-bottom: 2px solid <!-- -->#<!-- -->efedec;&quot;<!-- -->&gt;</p><p>\&lt;td colspan=&quot;2&quot; style=&quot;line-height: 20px; color: <!-- -->#<!-- -->333333; font-family:
Arial, sans-serif; text-align: left; font-size: 21px; font-weight: 600;
padding: 10px 5px; margin: 0px;&quot;<!-- -->&gt;<!-- --> \&lt;span style=&quot;font-family:
&#x27;Montserrat&#x27;, Arial, sans-serif !important;&quot;<!-- -->&gt;<!-- -->TOTAL\&lt;/span<!-- -->&gt;<!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;td colspan=&quot;2&quot; style=&quot;line-height: 20px; color: <!-- -->#<!-- -->333333; font-family:
Arial, sans-serif; text-align: right; font-size: 21px; font-weight: 600;
padding: 10px 5px; margin: 0px;&quot;<!-- -->&gt;<!-- --> \&lt;span style=&quot;font-family:
&#x27;Montserrat&#x27;, Arial, sans-serif !important;&quot;<!-- -->&gt;<!-- -->\${total}\&lt;/span<!-- -->&gt;<!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td colspan=&quot;4&quot; height=&quot;25&quot;<!-- -->&gt;<!-- --> <!-- -->&amp;<!-- -->nbsp;\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr bgcolor=&quot;#efedec&quot;<!-- -->&gt;</p><p>\&lt;th colspan=&quot;4&quot; style=&quot;line-height: 20px; color: <!-- -->#<!-- -->746c65; font-family:
Arial, sans-serif; text-align: left; font-size: 14px; font-weight: 600;
padding: 5px 5px 5px 10px; margin: 0px;&quot;<!-- -->&gt;<!-- --> \&lt;span style=&quot;font-family:
&#x27;Montserrat&#x27;, Arial, sans-serif !important;&quot;<!-- -->&gt;<!-- -->STORE COLLECTION
DETAILS\&lt;/span<!-- -->&gt;<!-- -->\&lt;/th<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td colspan=&quot;4&quot; style=&quot;line-height: 20px; color: <!-- -->#<!-- -->333333; font-family:
Arial, sans-serif; text-align: left; font-size: 14px; font-weight: 400;
padding: 5px; margin: 0px;&quot;<!-- -->&gt;</p><p>\&lt;p<!-- -->&gt;<!-- --> \&lt;span style=&quot;font-family: &#x27;Montserrat&#x27;, Arial, sans-serif
!important;&quot;<!-- -->&gt;<!-- -->\${destinationLocation.description}\&lt;br /<!-- -->&gt;<!-- -->
\${notEmpty(destinationLocation.locationAddress.street1) ?
concat(destinationLocation.locationAddress.street1, <!-- -->&#x27;<!-- -->\&lt;br /<!-- -->&gt;<!-- --> <!-- -->&#x27;<!-- -->)
: <!-- -->&#x27;<!-- -->&#x27;<!-- -->} \${notEmpty(destinationLocation.locationAddress.street2) ?
concat(destinationLocation.locationAddress.street2, <!-- -->&#x27;<!-- -->\&lt;br /<!-- -->&gt;<!-- --> <!-- -->&#x27;<!-- -->)
: <!-- -->&#x27;<!-- -->&#x27;<!-- -->} \${notEmpty(destinationLocation.locationAddress.street3) ?
concat(destinationLocation.locationAddress.street3, <!-- -->&#x27;<!-- -->\&lt;br /<!-- -->&gt;<!-- --> <!-- -->&#x27;<!-- -->)
: <!-- -->&#x27;<!-- -->&#x27;<!-- -->} \${notEmpty(destinationLocation.locationAddress.town) ?
concat(destinationLocation.locationAddress.town, <!-- -->&#x27;<!-- -->\&lt;br /<!-- -->&gt;<!-- --> <!-- -->&#x27;<!-- -->) :
<!-- -->&#x27;<!-- -->&#x27;<!-- -->} \${notEmpty(destinationLocation.locationAddress.county) ?
concat(destinationLocation.locationAddress.county, <!-- -->&#x27;<!-- -->\&lt;br /<!-- -->&gt;<!-- --> <!-- -->&#x27;<!-- -->)
: <!-- -->&#x27;<!-- -->&#x27;<!-- -->} \${notEmpty(destinationLocation.locationAddress.postCode)
? concat(destinationLocation.locationAddress.postCode, <!-- -->&#x27;<!-- -->\&lt;br /<!-- -->&gt;<!-- -->
<!-- -->&#x27;<!-- -->) : <!-- -->&#x27;<!-- -->&#x27;<!-- -->}\&lt;br /<!-- -->&gt;<!-- -->
\${destinationLocation.locationAddress.phone1}\&lt;/span<!-- -->&gt;<!-- -->\&lt;/p<!-- -->&gt;</p><p>\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;/tbody<!-- -->&gt;</p><p>\&lt;/table<!-- -->&gt;</p><p>\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td colspan=&quot;&quot; height=&quot;10&quot;<!-- -->&gt;<!-- --> <!-- -->&amp;<!-- -->nbsp;\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td align=&quot;center&quot; colspan=&quot;&quot; style=&quot;line-height: 20px; color:
<!-- -->#<!-- -->333333; font-family: Arial, sans-serif; text-align: left; font-size:
14px; font-weight: 400; padding: 0px; margin: 0px;&quot;<!-- -->&gt;<!-- --> \&lt;span
style=&quot;font-family: &#x27;Montserrat&#x27;, Arial, sans-serif !important;&quot;<!-- -->&gt;<!-- -->Kind
Regards,\&lt;/span<!-- -->&gt;<!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td<!-- -->&gt;<!-- --> \&lt;img alt=&quot;Yourcompany&quot; class=&quot;emailImage&quot;
src=&quot;cid:email_sig.jpg&quot; style=&quot;display: block;&quot; width=&quot;170&quot; /<!-- -->&gt;<!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td colspan=&quot;&quot; height=&quot;10&quot;<!-- -->&gt;<!-- --> <!-- -->&amp;<!-- -->nbsp;\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td align=&quot;center&quot;<!-- -->&gt;<!-- --> \&lt;img alt=&quot;&quot; class=&quot;emailImage&quot;
src=&quot;cid:email_line.jpg&quot; style=&quot;display: block;&quot; width=&quot;600&quot; /<!-- -->&gt;<!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td style=&quot;line-height: 20px; color: <!-- -->#<!-- -->333333; font-family: Arial,
sans-serif; text-align: left; font-size: 12px; padding: 0px; margin:
0px;&quot;<!-- -->&gt;</p><p>\&lt;p<!-- -->&gt;<!-- --> \&lt;a href=&quot;<a href="http://www.yourcompany.co.uk%22" target="_blank" rel="noopener noreferrer">www.yourcompany.co.uk&quot;</a> style=&quot;color: <!-- -->#<!-- -->8c827a;
font-family: Arial, sans-serif; font-size: 12px; font-weight: 600;
text-decoration: none; margin: 0px; padding: 0px; display:inline-block;&quot;
target=&quot;<!-- -->_<!-- -->blank&quot;<!-- -->&gt;<!-- -->\&lt;span style=&quot;font-family: &#x27;Montserrat&#x27;, Arial,
sans-serif !important;&quot;<!-- -->&gt;<a href="http://www.yourcompany.co.uk%5C" target="_blank" rel="noopener noreferrer">www.yourcompany.co.uk\</a>&lt;/span<!-- -->&gt;<!-- -->\&lt;/a<!-- -->&gt;<!-- -->\&lt;br /<!-- -->&gt;<!-- -->
\&lt;a href=&quot;mailto:<a href="mailto:customerservices@yourcompany.co.uk" target="_blank" rel="noopener noreferrer">customerservices@yourcompany.co.uk</a>&quot; style=&quot;color:
<!-- -->#<!-- -->8c827a; font-family: Arial, sans-serif; font-size: 12px; font-weight:
600; text-decoration: none; margin: 0px; padding: 0px;
display:inline-block;&quot;<!-- -->&gt;<!-- -->\&lt;span style=&quot;font-family: &#x27;Montserrat&#x27;, Arial,
sans-serif
!important;&quot;<!-- -->&gt;<a href="mailto:customerservices@yourcompany.co.uk" target="_blank" rel="noopener noreferrer">customerservices@yourcompany.co.uk</a>\&lt;/span<!-- -->&gt;<!-- -->\&lt;/a<!-- -->&gt;<!-- -->\&lt;br /<!-- -->&gt;<!-- -->
\&lt;span style=&quot;font-family: &#x27;Montserrat&#x27;, Arial, sans-serif
!important;&quot;<!-- -->&gt;<!-- -->0800 000 0000\&lt;/span<!-- -->&gt;<!-- -->\&lt;/p<!-- -->&gt;</p><p>\&lt;p<!-- -->&gt;<!-- --> \&lt;span style=&quot;font-family: &#x27;Montserrat&#x27;, Arial, sans-serif
!important;&quot;<!-- -->&gt;<!-- -->YOURCOMPANY, ADDRESS LINE 1\&lt;br /<!-- -->&gt;<!-- --> ADDRESS LINE 2\&lt;br /<!-- -->&gt;<!-- -->
COUNTY. POSTCODE\&lt;/span<!-- -->&gt;<!-- -->\&lt;/p<!-- -->&gt;</p><p>\&lt;a href=&quot;#&quot;<!-- -->&gt;<!-- -->\&lt;img alt=&quot;Facebook&quot; src=&quot;cid:email_facebook.png&quot;
width=&quot;30&quot; /<!-- -->&gt;<!-- -->\&lt;/a<!-- -->&gt;<!-- --> \&lt;a href=&quot;#&quot;<!-- -->&gt;<!-- -->\&lt;img alt=&quot;Twitter&quot;
src=&quot;cid:email_twitter.png&quot; width=&quot;30&quot; /<!-- -->&gt;<!-- -->\&lt;/a<!-- -->&gt;<!-- --> \&lt;a href=&quot;#&quot;<!-- -->&gt;<!-- -->\&lt;img
alt=&quot;Google+&quot; src=&quot;cid:email_google.png&quot; width=&quot;30&quot; /<!-- -->&gt;<!-- -->\&lt;/a<!-- -->&gt;<!-- --> \&lt;a
href=&quot;#&quot;<!-- -->&gt;<!-- -->\&lt;img alt=&quot;Pinterest&quot; src=&quot;cid:email_pinterest.png&quot; width=&quot;30&quot;
/<!-- -->&gt;<!-- -->\&lt;/a<!-- -->&gt;<!-- --> \&lt;a href=&quot;#&quot;<!-- -->&gt;<!-- -->\&lt;img alt=&quot;Instgram&quot;
src=&quot;cid:email_instagram.png&quot; width=&quot;30&quot; /<!-- -->&gt;<!-- -->\&lt;/a<!-- -->&gt;</p><p>\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;tr<!-- -->&gt;</p><p>\&lt;td colspan=&quot;&quot; height=&quot;30&quot;<!-- -->&gt;<!-- --> <!-- -->&amp;<!-- -->nbsp;\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;/tbody<!-- -->&gt;</p><p>\&lt;/table<!-- -->&gt;</p><p>\&lt;/td<!-- -->&gt;</p><p>\&lt;td width=&quot;3%&quot;<!-- -->&gt;<!-- --> <!-- --> <!-- -->\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;/tbody<!-- -->&gt;</p><p>\&lt;/table<!-- -->&gt;</p><p>\&lt;/div<!-- -->&gt;</p><p>\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;/tbody<!-- -->&gt;</p><p>\&lt;/table<!-- -->&gt;</p><p>\&lt;/center<!-- -->&gt;</p><p>\&lt;!--<!-- -->[<!-- -->if (gte mso 9)<!-- -->|<!-- -->(IE)<!-- -->]<!-- -->&gt;</p><p>\&lt;/td<!-- -->&gt;</p><p>\&lt;/tr<!-- -->&gt;</p><p>\&lt;/table<!-- -->&gt;</p><p>\&lt;<!-- -->!<!-- -->[endif<!-- -->]<!-- -->--<!-- -->&gt;</p><h1>Appendix 3</h1><p>JSON representations of the Java objects available within the FreeMarker
template. Note that these are example data sets only.</p><p>Customer Order Header</p><p>{</p><p>&quot;authorisedByUserKey&quot; : { },</p><p>&quot;completedDate&quot; : &quot;2020-12-09T10:42:43.000+00:00&quot;,</p><p>&quot;notificationContactTypeKey&quot; : {</p><p>&quot;id&quot; : &quot;CX_ORD_NOTIFICATION&quot;</p><p>},</p><p>&quot;reasonId&quot; : {</p><p>&quot;regionId&quot; : {</p><p>&quot;groupTypeId&quot; : &quot;region&quot;</p><p>}</p><p>},</p><p>&quot;customerOrderId&quot; : &quot;20001&quot;,</p><p>&quot;customerOrderTypeId&quot; : &quot;CUSTOMER_ORDER&quot;,</p><p>&quot;createdDate&quot; : &quot;2020-12-09T10:42:43.000+00:00&quot;,</p><p>&quot;lastUpdatedByUserKey&quot; : { },</p><p>&quot;customerNumber&quot; : &quot;123&quot;,</p><p>&quot;customerFirstName&quot; : &quot;Beth&quot;,</p><p>&quot;customerTitle&quot; : &quot;Mrs&quot;,</p><p>&quot;customerSurname&quot; : &quot;Chadwick&quot;,</p><p>&quot;customerPostcode&quot; : &quot;AL1 1AL&quot;,</p><p>&quot;preferredContactTypeKey&quot; : {</p><p>&quot;id&quot; : &quot;CX_ORD_CONTACT&quot;</p><p>},</p><p>&quot;locationId&quot; : {</p><p>&quot;id&quot; : &quot;0001&quot;</p><p>},</p><p>&quot;userId&quot; : {</p><p>&quot;id&quot; : &quot;1111&quot;</p><p>},</p><p>&quot;deviceId&quot; : { },</p><p>&quot;currencyId&quot; : {</p><p>&quot;id&quot; : &quot;GBP&quot;</p><p>},</p><p>&quot;address&quot; : <!-- -->[<!-- --> {</p><p>&quot;country&quot; : &quot;UK&quot;,</p><p>&quot;county&quot; : &quot;Hertfordshire&quot;,</p><p>&quot;email&quot; : &quot;<a href="mailto:b.chadwick@email.co.uk" target="_blank" rel="noopener noreferrer">b.chadwick@email.co.uk</a>&quot;,</p><p>&quot;mobilePhone&quot; : &quot;07495 555633&quot;,</p><p>&quot;phone1&quot; : &quot;01727 555394&quot;,</p><p>&quot;street1&quot; : &quot;23 St Leonards Road&quot;,</p><p>&quot;town&quot; : &quot;St Albans&quot;,</p><p>&quot;isTemplate&quot; : false,</p><p>&quot;countryCodeId&quot; : { },</p><p>&quot;typeId&quot; : {</p><p>&quot;id&quot; : &quot;CX_ORD_CONTACT&quot;</p><p>}</p><p>} <!-- -->]</p><p>}</p><p>List of Customer Order Items</p><p>[<!-- --> {</p><p>&quot;customerOrderId&quot; : &quot;20001&quot;,</p><p>&quot;lineNumber&quot; : 1,</p><p>&quot;fulfilmentId&quot; : 1,</p><p>&quot;orderedQty&quot; : 1,</p><p>&quot;shippedQty&quot; : 1,</p><p>&quot;effectiveNetValue&quot; : 4260,</p><p>&quot;taxAmount&quot; : 0.0,</p><p>&quot;locationId&quot; : { },</p><p>&quot;userId&quot; : { },</p><p>&quot;productId&quot; : {</p><p>&quot;id&quot; : &quot;MB709SN-1&quot;</p><p>},</p><p>&quot;destinationLocationId&quot; : { },</p><p>&quot;reasonId&quot; : {</p><p>&quot;regionId&quot; : {</p><p>&quot;groupTypeId&quot; : &quot;region&quot;</p><p>}</p><p>}</p><p>}, {</p><p>&quot;customerOrderId&quot; : &quot;20001&quot;,</p><p>&quot;lineNumber&quot; : 2,</p><p>&quot;fulfilmentId&quot; : 1,</p><p>&quot;orderedQty&quot; : 2,</p><p>&quot;shippedQty&quot; : 2,</p><p>&quot;netPrice&quot; : 1175,</p><p>&quot;effectiveNetValue&quot; : 1000,</p><p>&quot;taxAmount&quot; : 5.0,</p><p>&quot;locationId&quot; : { },</p><p>&quot;userId&quot; : { },</p><p>&quot;productId&quot; : {</p><p>&quot;id&quot; : &quot;DF715XM-1&quot;</p><p>},</p><p>&quot;destinationLocationId&quot; : { },</p><p>&quot;reasonId&quot; : {</p><p>&quot;regionId&quot; : {</p><p>&quot;groupTypeId&quot; : &quot;region&quot;</p><p>}</p><p>},</p><p>&quot;adjustments&quot; : <!-- -->[<!-- --> {</p><p>&quot;adjustmentNumber&quot; : 1,</p><p>&quot;adjustmentType&quot; : &quot;DISCOUNT&quot;,</p><p>&quot;adjustmentDetail&quot; : &quot;DISCOUNT1&quot;,</p><p>&quot;description&quot; : &quot;£1.75 discount&quot;,</p><p>&quot;amount&quot; : 175,</p><p>&quot;reasonKey&quot; : {</p><p>&quot;regionId&quot; : {</p><p>&quot;groupTypeId&quot; : &quot;region&quot;</p><p>}</p><p>}</p><p>} <!-- -->]</p><p>} <!-- -->]</p><p>List of Customer Order Fulfilments</p><p>[<!-- --> {</p><p>&quot;customerOrderId&quot; : &quot;20001&quot;,</p><p>&quot;fulfilmentId&quot; : 1,</p><p>&quot;sourceType&quot; : &quot;locationStockFulfilment&quot;,</p><p>&quot;sourceId&quot; : &quot;0100&quot;,</p><p>&quot;destinationType&quot; : &quot;COLLECTION&quot;,</p><p>&quot;destinationLocationId&quot; : {</p><p>&quot;id&quot; : &quot;0001&quot;</p><p>},</p><p>&quot;destinationAddress&quot; : {</p><p>&quot;isTemplate&quot; : false,</p><p>&quot;countryCodeId&quot; : { },</p><p>&quot;typeId&quot; : { }</p><p>},</p><p>&quot;destinationName&quot; : { },</p><p>&quot;deliveryChargeForeignCurrencyId&quot; : { },</p><p>&quot;deliveryTypeId&quot; : { },</p><p>&quot;trackingDetails&quot; : { }</p><p>}, {</p><p>&quot;customerOrderId&quot; : &quot;20001&quot;,</p><p>&quot;fulfilmentId&quot; : 2,</p><p>&quot;sourceType&quot; : &quot;locationStockFulfilment&quot;,</p><p>&quot;sourceId&quot; : &quot;0100&quot;,</p><p>&quot;destinationType&quot; : &quot;ADDRESS&quot;,</p><p>&quot;destinationLocationId&quot; : { },</p><p>&quot;destinationAddress&quot; : {</p><p>&quot;county&quot; : &quot;Hertfordshire&quot;,</p><p>&quot;phone1&quot; : &quot;01727 555943&quot;,</p><p>&quot;postCode&quot; : &quot;AL1 1LA&quot;,</p><p>&quot;street1&quot; : &quot;14 Eastbury Court &quot;,</p><p>&quot;town&quot; : &quot;St Albans&quot;,</p><p>&quot;isTemplate&quot; : false,</p><p>&quot;countryCodeId&quot; : { },</p><p>&quot;typeId&quot; : { }</p><p>},</p><p>&quot;destinationName&quot; : { },</p><p>&quot;deliveryChargeForeignCurrencyId&quot; : { },</p><p>&quot;deliveryTypeId&quot; : { },</p><p>&quot;trackingDetails&quot; : { }</p><p>} <!-- -->]</p><p>List of Payments</p><p>[<!-- --> {</p><p>&quot;customerOrderId&quot; : &quot;20001&quot;,</p><p>&quot;paymentNumber&quot; : 1,</p><p>&quot;paymentType&quot; : &quot;customerOrderCashPayment&quot;,</p><p>&quot;amount&quot; : 6610,</p><p>&quot;tenderId&quot; : {</p><p>&quot;tenderId&quot; : &quot;CASH&quot;,</p><p>&quot;groupId&quot; : {</p><p>&quot;groupTypeId&quot; : &quot;UK&quot;,</p><p>&quot;variantGroupTypeId&quot; : &quot;All&quot;</p><p>}</p><p>},</p><p>&quot;currencyId&quot; : {</p><p>&quot;id&quot; : &quot;GBP&quot;</p><p>},</p><p>&quot;status&quot; : &quot;COMMITTED&quot;,</p><p>&quot;isRefund&quot; : false,</p><p>&quot;refundAvailable&quot; : 6610,</p><p>&quot;createdByUserKey&quot; : { }</p><p>} <!-- -->]</p><p>Customer</p><p>{</p><p>&quot;customerNumber&quot; : &quot;5432&quot;,</p><p>&quot;customerName&quot; : {</p><p>&quot;surname&quot; : &quot;Chadwick&quot;,</p><p>&quot;forename&quot; : &quot;Beth&quot;,</p><p>&quot;title&quot; : &quot;Mrs&quot;</p><p>},</p><p>&quot;employeeKey&quot; : { },</p><p>&quot;customerType&quot; : { },</p><p>&quot;createdBy&quot; : { },</p><p>&quot;createdAt&quot; : { }</p><p>}</p><p>Location Map – if the fulfilment type has a destination location, which
is typical for Collection orders, the location map will contain details
of the location, keyed by fulfilment ID.</p><p>{</p><p>&quot;1&quot; : {</p><p>&quot;description&quot; : &quot;St Albans Store&quot;,</p><p>&quot;locationType&quot; : &quot;location&quot;,</p><p>&quot;locationAddress&quot; : {</p><p>&quot;countryCodeId&quot; : { },</p><p>&quot;typeId&quot; : { },</p><p>&quot;county&quot; : &quot;Hertfordshire&quot;,</p><p>&quot;phone1&quot; : &quot;01727 555993&quot;,</p><p>&quot;postCode&quot; : &quot;AL1 3BU&quot;,</p><p>&quot;street1&quot; : &quot;14 High Street&quot;,</p><p>&quot;town&quot; : &quot;St Albans&quot;,</p><p>&quot;isTemplate&quot; : false</p><p>},</p><p>&quot;locationId&quot; : &quot;0001&quot;,</p><p>&quot;emailConfiguration&quot; : {</p><p>&quot;locationId&quot; : &quot;0001&quot;,</p><p>&quot;isTemplate&quot; : false</p><p>},</p><p>&quot;purgeDetails&quot; : {</p><p>&quot;isTemplate&quot; : false</p><p>},</p><p>&quot;exchangeRateConversionMethod&quot; : &quot;INDIRECT&quot;,</p><p>&quot;isTemplate&quot; : false,</p><p>&quot;currencyId&quot; : { },</p><p>&quot;systemUserId&quot; : { },</p><p>&quot;defaultMenuGroupId&quot; : { },</p><p>&quot;menuGroupId&quot; : { },</p><p>&quot;priceGroupId&quot; : { },</p><p>&quot;fiscalProductGroupHierarchyId&quot; : { },</p><p>&quot;mmGroupHierarchyId&quot; : { },</p><p>&quot;exchangeRateGroupId&quot; : { }</p><p>}</p><p>}</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/04- POS and Store/htg_comm_scr.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/POS and Store/Store Inventory Management"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Store Inventory Management</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/POS and Store/htg_discounts"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuring Discount Reasons</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#resources" class="table-of-contents__link toc-highlight">Resources</a></li><li><a href="#prior-trainingexperience" class="table-of-contents__link toc-highlight">Prior Training/Experience</a></li><li><a href="#communication-script-maintenance" class="table-of-contents__link toc-highlight">Communication Script Maintenance</a></li><li><a href="#introduction-1" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#java-objects" class="table-of-contents__link toc-highlight">Java Objects</a><ul><li><a href="#customer-order-header" class="table-of-contents__link toc-highlight">Customer Order Header</a></li><li><a href="#customer-order-items" class="table-of-contents__link toc-highlight">Customer Order Items</a></li><li><a href="#customer-order-adjustment" class="table-of-contents__link toc-highlight">Customer Order Adjustment</a></li><li><a href="#customer-order-fulfilments" class="table-of-contents__link toc-highlight">Customer Order Fulfilments</a></li><li><a href="#customer-order-payments" class="table-of-contents__link toc-highlight">Customer Order Payments</a></li><li><a href="#customer" class="table-of-contents__link toc-highlight">Customer</a></li><li><a href="#destination-location" class="table-of-contents__link toc-highlight">Destination Location</a></li><li><a href="#products-map" class="table-of-contents__link toc-highlight">Products Map</a></li><li><a href="#product-images-map" class="table-of-contents__link toc-highlight">Product Images Map</a></li><li><a href="#sizes-map" class="table-of-contents__link toc-highlight">Sizes Map</a></li><li><a href="#style-attributes-map" class="table-of-contents__link toc-highlight">Style Attributes Map</a></li><li><a href="#colours-map" class="table-of-contents__link toc-highlight">Colours Map</a></li><li><a href="#locations-map" class="table-of-contents__link toc-highlight">Locations Map</a></li></ul></li><li><a href="#template-language-examples" class="table-of-contents__link toc-highlight">Template Language Examples</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">How-To Guides</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d11f947e.js"></script>
<script src="/assets/js/main.19ab6258.js"></script>
</body>
</html>